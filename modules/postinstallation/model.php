<?php

if (!defined('ABSPATH'))
    die('Restricted Access');

class JSVEHICLEMANAGERPostinstallationModel {

    function updateInstallationStatusConfiguration(){
            $flag = get_option('jsvehiclemanager_post_installation');
            if($flag == false){
                add_option( 'jsvehiclemanager_post_installation', '1', '', 'yes' );
            }else{
                update_option( 'jsvehiclemanager_post_installation', '1');
            }
    }

	function storeConfigurations($data){
        if (empty($data))
            return false;
        $error = false;
        unset($data['action']);
        unset($data['form_request']);
        unset($data['sampleuserdata']);
        unset($data['step']);
        $db = new jsvehiclemanagerdb();
        foreach ($data as $key => $value) {
            $query = "UPDATE `#__js_vehiclemanager_config` SET `configvalue` = '" . $value . "' WHERE `configname`= '" . $key . "'";
            $db->setQuery($query);
            if (!$db->query()) {
                $error = true;
            }
        }
        if ($error)
            return SAVE_ERROR;
        else
            return SAVED;
    }

    function getConfigurationValues(){
        $db = new jsvehiclemanagerdb();
        $this->updateInstallationStatusConfiguration();
        $query = "SELECT configvalue,configname  FROM`#__js_vehiclemanager_config`";
        $db->setQuery($query);
        $data = $db->loadObjectList();
        $config_array = array();
        foreach ($data as $config) {
                $config_array[$config->configname]=$config->configvalue;
        }
        jsvehiclemanager::$_data[0] = $config_array;
    }

    function recursiveremove($dir) {
        $structure = glob(rtrim($dir, "/").'/*');
        if (is_array($structure)) {
            foreach($structure as $file) {
                if (is_dir($file)){
                    if($file != $dir."/".jsvehiclemanager::$_data['data_directory'] && $file != $dir."/languages")
                    recursiveremove($file);
                }elseif (is_file($file)){
                    if(file_exists($file)){
                        if(is_writable($file)){
                            if(!unlink($file)){
                            }else{

                            }
                        }else{

                        }
                    }else{

                    }
                }
            }
        }
        if(file_exists($dir) && count(glob("$dir/*")) === 0 )
        rmdir($dir);
    }

    function makeDir($path){
        if (!file_exists($path)){
            mkdir($path, 0755);
            $ourFileName = $path.'/index.html';
            $ourFileHandle = fopen($ourFileName, 'w') or die("can't open file ($ourFileName)");
            fclose($ourFileHandle);
        }
    }

    function installSampleData($insert_sample_data, $menu) {
        $date = date('Y-m-d H:i:s');
        $curdate = date('Y-m-d H:i:s');
        $thirdydaydate = date('Y-m-d', strtotime($curdate. ' + 30 days'));
        if($menu == 1){
            global $wpdb;
            $query = "SELECT COUNT(ID) FROM ".$wpdb->prefix."posts WHERE post_content LIKE '%[jsvehiclemanager_control_panel]%'";
            $pageexists = $wpdb->get_var($query);
            if($pageexists == 0){
                $post = array(
                    'post_name' => 'jsvehiclemanager-dashboard',
                    'post_title' => 'Dashboard',
                    'post_status' => 'publish',
                    'post_content' => '[jsvehiclemanager_control_panel]',
                    'post_type' => 'page'
                );
                $post_ID = wp_insert_post($post);
            }
        }
        // vehicle sample data
        // Insert Two new user
        $wp_upload_dir = wp_upload_dir();
        global $wpdb;
        if($insert_sample_data == 1) {
            wp_create_user( "seller", "demo", "seller@yourdomain.com" );
            $query = "SELECT id FROM `" . $wpdb->prefix . "users` where user_login= 'seller'";
            $seller = $wpdb->get_var($query);
            wp_create_user( "seller2", "demo", "seller2@yourdomain.com" );
            $query = "SELECT id FROM `" . $wpdb->prefix . "users` where user_login= 'seller2'";
            $seller2 = $wpdb->get_var($query);
            $adminid = get_current_user_id();
            // Seller
            $query = 'INSERT INTO `'.$wpdb->prefix.'js_vehiclemanager_users` ( `uid`, `name`, `cell`, `phone`, `email`, `weblink`, `status`, `autogenerated`, `issocial`, `socialid`, `photo`, `cityid`, `latitude`, `longitude`, `description`, `videotypeid`, `video`, `facebook`, `twitter`, `linkedin`, `googleplus`, `pinterest`, `instagram`, `reddit`, `created`, `params`) VALUES
                    ( '.$seller.', "Seller", "+123456789", "+921536898", "seller@yourdomain.com", "http://www.yourdomain.com", 1, 0, 0, "", "'.$wp_upload_dir["baseurl"].'/jsvehiclemanager_data/data/profile/profile_1/userprofilephoto_1297286085795787133world-globe-md.png", 27580, "40.7127837", "-74.0059413", "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.", 0, "", "http://www.facebook.com", "http://www.twitter.com", "http://www.linkedin.com", "http://www.googleplus.com", "http://www.pinterest.com", "http://www.instagram.com", "http://www.reddit.com", "'.date("Y-m-d H:i:s").'", "");';
            $wpdb->query($query);
            $seller = $wpdb->insert_id;

            $query = 'INSERT INTO `'.$wpdb->prefix.'js_vehiclemanager_users` ( `uid`, `name`, `cell`, `phone`, `email`, `weblink`, `status`, `autogenerated`, `issocial`, `socialid`, `photo`, `cityid`, `latitude`, `longitude`, `description`, `videotypeid`, `video`, `facebook`, `twitter`, `linkedin`, `googleplus`, `pinterest`, `instagram`, `reddit`, `created`, `params`) VALUES
                    ('.$seller2.', "Seller 2", "+123654789", "+987456321", "seller2@yourdomain.com", "http://www.yourdomain.com", 1, 0, 0, "", "", 2313, "33.774005", "-93.6826796", "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.", 0, "", "http://www.facebook.com", "http://www.twitter.com", "http://www.linkedin.com", "", "", "", "", "'.date("Y-m-d H:i:s").'", "");';
            $wpdb->query($query);
            $seller2 = $wpdb->insert_id;

            $insert_vehicles = array();

            // For feature vehicle addons
            $isfeaturedvehicle = 0;
            $startfeatureddate = "0000-00-00 00:00:00";
            $endfeatureddate = "0000-00-00 00:00:00";
            if(in_array('featuredvehicle', jsvehiclemanager::$_active_addons)){
                $isfeaturedvehicle = 1;
                $startfeatureddate = date("Y-m-d H:i:s");
                $endfeatureddate = date("Y-m-d H:i:s", strtotime("+12 months"));
            }

            $insert_vehicles[0]['query'] = '('.$seller.', 1, 2, 5, 66, 2, 1, 2, 3, 1, 0, "", 69768, "", 0, "", "", "", "", "", "", "", "", 1, "", "bmw-m4", "", "'.date("Y-m-d H:i:s").'", 0, "'. $isfeaturedvehicle .'", "'.$startfeatureddate.'", "'.$endfeatureddate.'", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "BHy2nMQzP", 1, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"ufield_195\":1}}", "", "")';
            $insert_vehicles[0]['images'] = 4;

            $insert_vehicles[1]['query'] = '('.$seller.', 0, 2, 5, 68, 2, 2, 2, 3, 1, 0, "", 69769, "", 0, "", "", "", "", "", "", "", "", 1, "", "bmw-m6", "", "'.date("Y-m-d H:i:s").'", 0, "'. $isfeaturedvehicle .'", "'.$startfeatureddate.'", "'.$endfeatureddate.'", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "QJr9bzHm4", 1, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"offroadpackage\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"dualclimatecontrol\":1,\"cooledseats\":1,\"heatedseats\":1,\"powerdoorlocks\":1,\"rearairconditioning\":1},\"exterior\":{\"campermirrors\":1,\"luggagerack\":1,\"metallicpaint\":1,\"rarewheels\":1,\"ridecontrol\":1,\"sunroof\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"dvdplayer\":1,\"powerliftgate\":1,\"satelliteradio\":1},\"safety\":{\"antilockbrakes\":1,\"cartracker\":1,\"driverairbag\":1}}", "", "")';
            $insert_vehicles[1]['images'] = 4;

            $insert_vehicles[2]['query'] = '('.$seller2.', 2, 2, 17, 367, 1, 1, 2, 3, 1, 0, "", 69772, "", 0, "", "", "", "", "", "", "", "", 1, "", "ford-mustang", "", "'.date("Y-m-d H:i:s").'", 0, "'. $isfeaturedvehicle .'", "'.$startfeatureddate.'", "'.$endfeatureddate.'", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "zGkN8VTqr", 1, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"2door\":1,\"convertible\":1},\"drivetrain\":{\"2wheeldrive\":1,\"rearwheeldrive\":1},\"interior\":{\"narrowbucketseats\":1,\"airconditioning\":1,\"cooledseats\":1,\"leatherseats\":1,\"powerdoorlocks\":1,\"powermirrors\":1,\"powerseats\":1,\"tintedwindows\":1},\"exterior\":{\"campermirrors\":1,\"heatedwindshield\":1,\"metallicpaint\":1,\"sunroof\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"backupcameraandmirror\":1,\"powerliftgate\":1,\"rearlookingdifferential\":1,\"satelliteradio\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"cartracker\":1,\"driverairbag\":1,\"rearairbags\":1,\"signalmirrors\":1}}", "", "")';
            $insert_vehicles[2]['images'] = 4;

            $insert_vehicles[3]['query'] = '('.$seller.', 0, 11, 40, 633, 7, 2, 8, 3, 1, 0, "", 69776, "", 0, "", "", "", "", "", "", "", "", 1, "", "lamborghini-murcielago", "", "'.date("Y-m-d H:i:s").'", 0, "'. $isfeaturedvehicle .'", "'.$startfeatureddate.'", "'.$endfeatureddate.'", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "gq8MXdjQL", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"offroadpackage\":1},\"drivetrain\":{\"2wheeldrive\":1,\"rearwheeldrive\":1},\"interior\":{\"narrowbucketseats\":1,\"adjustablefootpedals\":1,\"bucketseats\":1,\"dualclimatecontrol\":1,\"heatedmirrors\":1,\"powermirrors\":1,\"powerseats\":1,\"rearslidingwindow\":1,\"tintedwindows\":1},\"exterior\":{\"dualslidingdoor\":1,\"foglamps\":1,\"heatedwindshield\":1,\"metallicpaint\":1,\"nerfbars\":1,\"newtyres\":1,\"premiumwheels\":1,\"rarewheels\":1,\"runningboards\":1,\"spoiler\":1,\"sunroof\":1,\"toneaucover\":1},\"electronics\":{\"alarm\":1,\"antitheft\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"handsfreecomsys\":1,\"onstar\":1,\"powerliftgate\":1,\"rearstereo\":1,\"satelliteradio\":1},\"safety\":{\"antilockbrakes\":1,\"passengerairbag\":1,\"rearairbags\":1,\"sideairbags\":1,\"signalmirrors\":1}}", "", "")';
            $insert_vehicles[3]['images'] = 2;

            $insert_vehicles[4]['query'] = '('.$seller2.', 0, 7, 37, 605, 3, 1, 2, 3, 1, 0, "", 69825, "", 0, "", "", "", "", "", "", "", "", 1, "", "mercedes-benz-slk", "", "'.date("Y-m-d H:i:s").'", 0, "'. $isfeaturedvehicle .'", "'.$startfeatureddate.'", "'.$endfeatureddate.'", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "tFmMj6ycr", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"longbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"rearwheeldrive\":1},\"interior\":{\"airconditioning\":1,\"autodimisrvmirror\":1,\"cruisecontrol\":1,\"heatedmirrors\":1,\"cooledseats\":1,\"leatherseats\":1,\"powerwindows\":1,\"reardefrost\":1,\"tintedwindows\":1},\"exterior\":{\"bedliner\":1,\"campermirrors\":1,\"customwheels\":1,\"dualslidingdoor\":1,\"heatedwindshield\":1,\"luggagerack\":1,\"nerfbars\":1,\"ridecontrol\":1,\"runningboards\":1,\"spoiler\":1,\"towingpackage\":1},\"electronics\":{\"dvdplayer\":1,\"handsfreecomsys\":1,\"informationcenter\":1,\"integratedphone\":1,\"ipodmp3port\":1,\"backupcameraandmirror\":1,\"parkassistrear\":1,\"powerliftgate\":1,\"remotestart\":1},\"safety\":{\"antilockbrakes\":1,\"cartracker\":1,\"passengerairbag\":1}}", "", "")';
            $insert_vehicles[4]['images'] = 4;

            $insert_vehicles[5]['query'] = '('.$seller.', 0, 5, 29, 510, 7, 1, 2, 3, 1, 0, "", 69775, "2", 0, "", "", "", "", "", "", "", "", 1, "", "land-rover-discovery", "", "'.date("Y-m-d H:i:s").'", 0, "'. $isfeaturedvehicle .'", "'.$startfeatureddate.'", "'.$endfeatureddate.'", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "cV9pJQhRr", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 1, 0, 1, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"extendedcab\":1,\"offroadpackage\":1},\"interior\":{\"adjustablefootpedals\":1,\"airconditioning\":1,\"cruisecontrol\":1,\"bucketseats\":1,\"childseats\":1,\"leatherseats\":1,\"power3rdrowseat\":1,\"rearairconditioning\":1},\"exterior\":{\"dualslidingdoor\":1,\"luggagerack\":1,\"premiumwheels\":1,\"rarewheels\":1,\"ridecontrol\":1,\"spoiler\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"antitheft\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"handsfreecomsys\":1,\"integratedphone\":1,\"memoryseats\":1,\"navigationsystem\":1,\"powerliftgate\":1,\"steeringwheelcontrol\":1},\"safety\":{\"backupsensors\":1,\"cartracker\":1,\"driverairbag\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[5]['images'] = 4;

            $insert_vehicles[6]['query'] = '('.$seller2.', 0, 2, 4, 49, 1, 1, 2, 3, 1, 0, "", 69883, "", 0, "", "", "", "", "", "", "", "", 1, "", "audi-r8", "", "'.date("Y-m-d H:i:s").'", 0, "'. $isfeaturedvehicle .'", "'.$startfeatureddate.'", "'.$endfeatureddate.'", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "GpTrZDM3g", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"2door\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"cruisecontrol\":1,\"bucketseats\":1,\"heatedmirrors\":1,\"power3rdrowseat\":1,\"powerdoorlocks\":1,\"powermirrors\":1,\"rearairconditioning\":1},\"exterior\":{\"cargocover\":1,\"customwheels\":1,\"limitationconvertibletop\":1,\"metallicpaint\":1,\"rarewheels\":1,\"removabletop\":1,\"sunroof\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"antitheft\":1,\"dvdplayer\":1,\"dualdvd\":1,\"handsfreecomsys\":1,\"informationcenter\":1,\"integratedphone\":1,\"rearstereo\":1,\"remotestart\":1},\"safety\":{\"antilockbrakes\":1,\"passengerairbag\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[6]['images'] = 4;

            $insert_vehicles[7]['query'] = '('.$seller.', 0, 5, 48, 755, 2, 2, 2, 3, 1, 0, "", 69768, "", 0, "", "", "", "", "", "", "", "", 1, "", "rolls-royce-ghost", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "GJd6V8vXp", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"shortbox\":1},\"drivetrain\":{\"4wheeldrive\":1,\"rearwheeldrive\":1,\"turbo\":1},\"interior\":{\"narrowbucketseats\":1,\"retrobucketseats\":1,\"adjustablefootpedals\":1,\"airconditioning\":1,\"autodimisrvmirror\":1,\"cruisecontrol\":1,\"heatedseats\":1,\"leatherseats\":1,\"powerseats\":1,\"powerwindows\":1,\"rearairconditioning\":1,\"tintedwindows\":1},\"exterior\":{\"bugshield\":1,\"dualslidingdoor\":1,\"heatedwindshield\":1,\"limitationconvertibletop\":1,\"newtyres\":1,\"premiumwheels\":1,\"runningboards\":1,\"spoiler\":1,\"sunroof\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"cdchanger\":1,\"dvdplayer\":1,\"navigationsystem\":1,\"backupcameraandmirror\":1,\"remotestart\":1,\"satelliteradio\":1},\"safety\":{\"backupsensors\":1,\"cartracker\":1}}", "", "")';
            $insert_vehicles[7]['images'] = 5;

            $insert_vehicles[8]['query'] = '('.$seller.', 0, 7, 25, 472, 2, 2, 2, 3, 1, 0, "", 69769, "2", 0, "", "", "", "", "", "", "", "", 1, "", "jaguar-x-type", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "hnPBMFkYW", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 1, 0, 1, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"extendedcab\":1,\"offroadpackage\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"rearwheeldrive\":1,\"turbo\":1},\"interior\":{\"airconditioning\":1,\"autodimisrvmirror\":1,\"dualclimatecontrol\":1,\"childseats\":1,\"heatedmirrors\":1,\"leatherseats\":1,\"power3rdrowseat\":1,\"powerdoorlocks\":1,\"powerseats\":1,\"powerwindows\":1,\"rearairconditioning\":1,\"tiltsteering\":1,\"tintedwindows\":1},\"exterior\":{\"bedliner\":1,\"bugshield\":1,\"foglamps\":1,\"metallicpaint\":1,\"nerfbars\":1,\"newtyres\":1,\"runningboards\":1,\"sunroof\":1,\"toneaucover\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"antitheft\":1,\"cdchanger\":1,\"dvdplayer\":1,\"ipodport\":1,\"ipodmp3port\":1,\"onstar\":1,\"backupcameraandmirror\":1,\"parkassistrear\":1,\"remotestart\":1,\"tyrepressuremonitoringsystem\":1,\"trailerbrakesystem\":1},\"safety\":{\"antilockbrakes\":1,\"passengerairbag\":1,\"rearairbags\":1,\"signalmirrors\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[8]['images'] = 5;

            $insert_vehicles[9]['query'] = '('.$seller2.', 0, 2, 60, 907, 1, 2, 2, 3, 1, 0, "", 69772, "", 0, "", "", "", "", "", "", "", "", 1, "", "acura-rlx-elite", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "Y9QXP4kwB", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"ufield_195\":1}}", "", "")';
            $insert_vehicles[9]['images'] = 5;

            $insert_vehicles[10]['query'] = '('.$seller.', 0, 2, 20, 416, 1, 1, 2, 3, 1, 0, "", 69776, "2", 0, "", "", "", "", "", "", "", "", 1, "", "honda-civic", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "RD2d6vJZ4", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 1, 0, 1, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"crewcab\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1},\"interior\":{\"adjustablefootpedals\":1,\"autodimisrvmirror\":1,\"bucketseats\":1,\"cooledseats\":1,\"heatedseats\":1,\"powermirrors\":1,\"powerwindows\":1,\"reardefrost\":1,\"tiltsteering\":1,\"tintedwindows\":1},\"exterior\":{\"campermirrors\":1,\"customwheels\":1,\"limitationconvertibletop\":1,\"luggagerack\":1,\"metallicpaint\":1,\"nerfbars\":1,\"premiumwheels\":1,\"rarewheels\":1,\"spoiler\":1,\"towingpackage\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"antitheft\":1,\"dualdvd\":1,\"informationcenter\":1,\"ipodport\":1,\"navigationsystem\":1,\"powerliftgate\":1,\"rearstereo\":1,\"satelliteradio\":1,\"tripmileagecomputer\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"cartracker\":1,\"driverairbag\":1,\"sideairbags\":1,\"signalmirrors\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[10]['images'] = 5;

            $insert_vehicles[11]['query'] = '('.$seller2.', 0, 2, 20, 414, 2, 2, 2, 3, 1, 0, "", 69825, "", 0, "", "", "", "", "", "", "", "", 1, "", "honda-accord", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "ZhngN9pVm", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"extendedcab\":1,\"longbox\":1,\"offroadpackage\":1},\"drivetrain\":{\"4wheeldrive\":1,\"allwheeldrive\":1,\"rearwheeldrive\":1,\"turbo\":1},\"interior\":{\"narrowbucketseats\":1,\"autodimisrvmirror\":1,\"cruisecontrol\":1,\"cooledseats\":1,\"powerdoorlocks\":1,\"rearairconditioning\":1,\"reardefrost\":1},\"exterior\":{\"customwheels\":1,\"dualslidingdoor\":1,\"luggagerack\":1,\"nerfbars\":1,\"premiumwheels\":1,\"removabletop\":1,\"ridecontrol\":1,\"runningboards\":1,\"sunroof\":1},\"electronics\":{\"amfmradio\":1,\"antitheft\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"ipodport\":1,\"ipodmp3port\":1,\"keylessentry\":1,\"backupcameraandmirror\":1,\"parkassistrear\":1,\"powerliftgate\":1,\"remotestart\":1,\"trailerbrakesystem\":1},\"safety\":{\"backupsensors\":1,\"cartracker\":1,\"driverairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[11]['images'] = 5;

            $insert_vehicles[12]['query'] = '('.$seller.', 0, 2, 30, 524, 3, 2, 2, 3, 1, 0, "", 69775, "", 0, "", "", "", "", "", "", "", "", 1, "", "lexus-ls", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "G8hxjCJFW", 3, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"offroadpackage\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"adjustablefootpedals\":1,\"autodimisrvmirror\":1,\"bucketseats\":1,\"heatedmirrors\":1,\"cooledseats\":1,\"power3rdrowseat\":1,\"powerdoorlocks\":1,\"powermirrors\":1,\"rearairconditioning\":1,\"reardefrost\":1},\"exterior\":{\"bugshield\":1,\"campermirrors\":1,\"dualslidingdoor\":1,\"foglamps\":1,\"luggagerack\":1,\"metallicpaint\":1,\"premiumwheels\":1,\"rarewheels\":1,\"removabletop\":1,\"ridecontrol\":1,\"spoiler\":1},\"electronics\":{\"alarm\":1,\"antitheft\":1,\"dvdplayer\":1,\"handsfreecomsys\":1,\"integratedphone\":1,\"backupcameraandmirror\":1,\"parkassistrear\":1,\"remotestart\":1,\"steeringwheelcontrol\":1,\"tyrepressuremonitoringsystem\":1,\"tripmileagecomputer\":1},\"safety\":{\"antilockbrakes\":1,\"cartracker\":1,\"passengerairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[12]['images'] = 5;

            $insert_vehicles[13]['query'] = '('.$seller.', 0, 7, 46, 738, 3, 1, 2, 3, 1, 0, "", 69883, "", 0, "", "", "", "", "", "", "", "", 1, "", "porsche-928", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "d4nqxrfMt", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"2door\":1,\"extendedcab\":1,\"longbox\":1},\"interior\":{\"retrobucketseats\":1,\"adjustablefootpedals\":1,\"bucketseats\":1,\"centerconsole\":1,\"cooledseats\":1,\"heatedseats\":1,\"leatherseats\":1,\"powerdoorlocks\":1,\"powerseats\":1,\"rearairconditioning\":1,\"tintedwindows\":1},\"exterior\":{\"bedliner\":1,\"campermirrors\":1,\"metallicpaint\":1,\"nerfbars\":1,\"removabletop\":1,\"ridecontrol\":1,\"runningboards\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"integratedphone\":1,\"ipodmp3port\":1,\"memoryseats\":1,\"powerliftgate\":1,\"rearlookingdifferential\":1,\"steeringwheelcontrol\":1,\"stereotape\":1,\"tyrepressuremonitoringsystem\":1},\"safety\":{\"antilockbrakes\":1,\"cartracker\":1,\"passengerairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[13]['images'] = 5;

            $insert_vehicles[14]['query'] = '('.$seller.', 0, 12, 41, 662, 2, 2, 2, 3, 1, 0, "", 69768, "", 0, "", "", "", "", "", "", "", "", 1, "", "nissan-quest", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "hx2gnXjTG", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"longbox\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"retrobucketseats\":1,\"adjustablefootpedals\":1,\"airconditioning\":1,\"centerconsole\":1,\"dualclimatecontrol\":1,\"heatedseats\":1,\"leatherseats\":1,\"powerseats\":1,\"rearairconditioning\":1,\"rearslidingwindow\":1,\"tintedwindows\":1},\"exterior\":{\"bedliner\":1,\"foglamps\":1,\"metallicpaint\":1,\"nerfbars\":1,\"spoiler\":1,\"towingpackage\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"antitheft\":1,\"dvdplayer\":1,\"dualdvd\":1,\"handsfreecomsys\":1,\"integratedphone\":1,\"navigationsystem\":1,\"onstar\":1,\"backupcameraandmirror\":1,\"rearstereo\":1,\"remotestart\":1},\"safety\":{\"backupsensors\":1,\"cartracker\":1,\"rearairbags\":1,\"sideairbags\":1,\"signalmirrors\":1}}", "", "")';
            $insert_vehicles[14]['images'] = 5;

            $insert_vehicles[15]['query'] = '('.$seller.', 0, 2, 20, 416, 1, 2, 2, 3, 1, 0, "", 69769, "", 0, "", "", "", "", "", "", "", "", 1, "", "honda-civic", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "KTDp26PqZ", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"retrobucketseats\":1,\"dualclimatecontrol\":1,\"childseats\":1,\"heatedmirrors\":1,\"cooledseats\":1,\"heatedseats\":1,\"leatherseats\":1,\"power3rdrowseat\":1,\"powerseats\":1,\"powerwindows\":1,\"rearairconditioning\":1,\"rearslidingwindow\":1,\"tintedwindows\":1},\"exterior\":{\"customwheels\":1,\"dualslidingdoor\":1,\"limitationconvertibletop\":1,\"luggagerack\":1,\"premiumwheels\":1,\"removabletop\":1,\"runningboards\":1},\"electronics\":{\"alarm\":1,\"antitheft\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"handsfreecomsys\":1,\"informationcenter\":1,\"integratedphone\":1,\"ipodmp3port\":1,\"onstar\":1,\"backupcameraandmirror\":1,\"powerliftgate\":1,\"rearlookingdifferential\":1,\"stereotape\":1,\"tyrepressuremonitoringsystem\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"cartracker\":1,\"passengerairbag\":1,\"sideairbags\":1,\"signalmirrors\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[15]['images'] = 5;

            $insert_vehicles[16]['query'] = '('.$seller2.', 0, 15, 18, 378, 2, 2, 2, 3, 1, 0, "", 69772, "", 0, "", "", "", "", "", "", "", "", 1, "", "gmc-acadia", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "pXkxv9cnQ", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"extendedcab\":1,\"longbox\":1,\"offroadpackage\":1},\"drivetrain\":{\"2wheeldrive\":1,\"rearwheeldrive\":1,\"turbo\":1},\"interior\":{\"cruisecontrol\":1,\"bucketseats\":1,\"centerconsole\":1,\"dualclimatecontrol\":1,\"childseats\":1,\"heatedmirrors\":1,\"power3rdrowseat\":1,\"powerdoorlocks\":1,\"powermirrors\":1,\"powerseats\":1,\"powerwindows\":1,\"rearairconditioning\":1,\"reardefrost\":1},\"exterior\":{\"alloywheels\":1,\"customwheels\":1,\"foglamps\":1,\"heatedwindshield\":1,\"limitationconvertibletop\":1,\"luggagerack\":1,\"metallicpaint\":1,\"nerfbars\":1,\"removabletop\":1,\"ridecontrol\":1,\"sunroof\":1,\"ttops\":1,\"toneaucover\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"antitheft\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"handsfreecomsys\":1,\"informationcenter\":1,\"integratedphone\":1,\"ipodmp3port\":1,\"keylessentry\":1,\"navigationsystem\":1,\"parkassistrear\":1,\"remotestart\":1,\"satelliteradio\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"cartracker\":1,\"passengerairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[16]['images'] = 5;

            $insert_vehicles[17]['query'] = '('.$seller.', 0, 7, 8, 102, 2, 1, 2, 3, 1, 0, "", 69776, "2", 0, "", "", "", "", "", "", "", "", 1, "", "cadillac-allante", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "KdVYL8tQ7", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 1, 0, 1, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"extendedcab\":1,\"longbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"supercharged\":1},\"interior\":{\"narrowbucketseats\":1,\"retrobucketseats\":1,\"cruisecontrol\":1,\"centerconsole\":1,\"childseats\":1,\"leatherseats\":1,\"powerseats\":1,\"reardefrost\":1,\"rearslidingwindow\":1},\"exterior\":{\"bugshield\":1,\"dualslidingdoor\":1,\"foglamps\":1,\"heatedwindshield\":1,\"metallicpaint\":1,\"nerfbars\":1,\"newtyres\":1,\"premiumwheels\":1,\"rarewheels\":1,\"removabletop\":1,\"ridecontrol\":1,\"runningboards\":1,\"towingpackage\":1},\"electronics\":{\"alarm\":1,\"dvdplayer\":1,\"dualdvd\":1,\"handsfreecomsys\":1,\"informationcenter\":1,\"integratedphone\":1,\"backupcameraandmirror\":1,\"rearstereo\":1,\"remotestart\":1,\"stereotape\":1,\"tyrepressuremonitoringsystem\":1,\"trailerbrakesystem\":1},\"safety\":{\"antilockbrakes\":1,\"cartracker\":1,\"passengerairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[17]['images'] = 5;

            $insert_vehicles[18]['query'] = '('.$seller.', 0, 2, 5, 64, 2, 2, 2, 3, 1, 0, "", 69825, "", 0, "", "", "", "", "", "", "", "", 1, "", "bmw-m", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "VDNf9YBTK", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"airconditioning\":1,\"autodimisrvmirror\":1,\"dualclimatecontrol\":1,\"childseats\":1,\"heatedmirrors\":1,\"cooledseats\":1,\"heatedseats\":1,\"powermirrors\":1,\"powerseats\":1,\"powerwindows\":1,\"reardefrost\":1,\"rearslidingwindow\":1,\"tintedwindows\":1},\"exterior\":{\"bedliner\":1,\"bugshield\":1,\"dualslidingdoor\":1,\"foglamps\":1,\"metallicpaint\":1,\"nerfbars\":1,\"newtyres\":1,\"premiumwheels\":1,\"rarewheels\":1,\"removabletop\":1,\"ridecontrol\":1,\"spoiler\":1},\"electronics\":{\"amfmradio\":1,\"antitheft\":1,\"cdchanger\":1,\"dvdplayer\":1,\"dualdvd\":1,\"ipodport\":1,\"navigationsystem\":1,\"onstar\":1,\"rearstereo\":1,\"satelliteradio\":1,\"steeringwheelcontrol\":1,\"stereotape\":1,\"tyrepressuremonitoringsystem\":1,\"tripmileagecomputer\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"cartracker\":1,\"driverairbag\":1,\"passengerairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[18]['images'] = 5;

            $insert_vehicles[19]['query'] = '('.$seller2.', 0, 8, 20, 417, 2, 1, 2, 3, 1, 0, "", 69775, "2", 0, "", "", "", "", "", "", "", "", 1, "", "honda-cr-v", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "dn4TBcDRF", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 1, 0, 1, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"rearwheeldrive\":1,\"turbo\":1},\"interior\":{\"narrowbucketseats\":1,\"adjustablefootpedals\":1,\"autodimisrvmirror\":1,\"centerconsole\":1,\"dualclimatecontrol\":1,\"childseats\":1,\"leatherseats\":1,\"power3rdrowseat\":1,\"powermirrors\":1,\"powerseats\":1,\"powerwindows\":1,\"rearairconditioning\":1,\"rearslidingwindow\":1,\"tintedwindows\":1},\"exterior\":{\"alloywheels\":1,\"bugshield\":1,\"customwheels\":1,\"limitationconvertibletop\":1,\"luggagerack\":1,\"nerfbars\":1,\"newtyres\":1,\"ridecontrol\":1,\"spoiler\":1,\"ttops\":1,\"towingpackage\":1},\"electronics\":{\"alarm\":1,\"amfmradio\":1,\"antitheft\":1,\"dvdplayer\":1,\"handsfreecomsys\":1,\"informationcenter\":1,\"integratedphone\":1,\"navigationsystem\":1,\"powerliftgate\":1,\"rearlookingdifferential\":1,\"rearstereo\":1,\"satelliteradio\":1,\"stereotape\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"rearairbags\":1,\"signalmirrors\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[19]['images'] = 5;

            $insert_vehicles[20]['query'] = '('.$seller.', 0, 8, 46, 744, 2, 2, 2, 3, 1, 0, "", 69883, "", 0, "", "", "", "", "", "", "", "", 1, "", "porsche-cayenne", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "Gr4ktbjRY", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"retrobucketseats\":1,\"adjustablefootpedals\":1,\"bucketseats\":1,\"dualclimatecontrol\":1,\"heatedseats\":1,\"leatherseats\":1,\"power3rdrowseat\":1,\"rearairconditioning\":1,\"reardefrost\":1,\"rearslidingwindow\":1},\"exterior\":{\"campermirrors\":1,\"customwheels\":1,\"foglamps\":1,\"heatedwindshield\":1,\"limitationconvertibletop\":1,\"luggagerack\":1,\"premiumwheels\":1,\"rarewheels\":1,\"removabletop\":1,\"towingpackage\":1},\"electronics\":{\"amfmradio\":1,\"dualdvd\":1,\"informationcenter\":1,\"keylessentry\":1,\"memoryseats\":1,\"backupcameraandmirror\":1,\"rearstereo\":1,\"remotestart\":1,\"trailerbrakesystem\":1},\"safety\":{\"backupsensors\":1,\"driverairbag\":1,\"rearairbags\":1,\"signalmirrors\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[20]['images'] = 5;

            $insert_vehicles[21]['query'] = '('.$seller.', 0, 14, 33, 547, 2, 2, 2, 3, 1, 0, "", 69768, "", 0, "", "", "", "", "", "", "", "", 1, "", "mini-cooper", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "fKWBVFLPM", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"extendedcab\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"supercharged\":1,\"turbo\":1},\"interior\":{\"adjustablefootpedals\":1,\"bucketseats\":1,\"centerconsole\":1,\"childseats\":1,\"heatedmirrors\":1,\"powerdoorlocks\":1,\"powerseats\":1,\"rearairconditioning\":1,\"reardefrost\":1},\"exterior\":{\"bedliner\":1,\"cargocover\":1,\"dualslidingdoor\":1,\"heatedwindshield\":1,\"newtyres\":1,\"ridecontrol\":1,\"runningboards\":1,\"spoiler\":1,\"toneaucover\":1},\"electronics\":{\"amfmradio\":1,\"dvdplayer\":1,\"informationcenter\":1,\"stereotape\":1},\"safety\":{\"antilockbrakes\":1,\"cartracker\":1,\"passengerairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[21]['images'] = 5;

            $insert_vehicles[22]['query'] = '('.$seller2.', 0, 7, 25, 473, 3, 2, 2, 3, 1, 0, "", 69769, "", 0, "", "", "", "", "", "", "", "", 1, "", "jaguar-xf", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "HvbQNynCJ", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1,\"turbo\":1},\"interior\":{\"narrowbucketseats\":1,\"retrobucketseats\":1,\"bucketseats\":1,\"centerconsole\":1,\"dualclimatecontrol\":1,\"heatedseats\":1,\"leatherseats\":1,\"power3rdrowseat\":1,\"rearairconditioning\":1,\"tintedwindows\":1},\"exterior\":{\"alloywheels\":1,\"bedliner\":1,\"cargocover\":1,\"customwheels\":1,\"dualslidingdoor\":1,\"foglamps\":1,\"metallicpaint\":1,\"newtyres\":1,\"rarewheels\":1,\"ridecontrol\":1,\"spoiler\":1,\"sunroof\":1},\"electronics\":{\"alarm\":1,\"antitheft\":1,\"dvdplayer\":1,\"handsfreecomsys\":1,\"informationcenter\":1,\"keylessentry\":1,\"backupcameraandmirror\":1,\"parkassistrear\":1,\"remotestart\":1,\"satelliteradio\":1,\"steeringwheelcontrol\":1,\"tripmileagecomputer\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"rearairbags\":1,\"sideairbags\":1,\"signalmirrors\":1,\"tractioncontrol\":1}}", "", "")';
            $insert_vehicles[22]['images'] = 5;

            $insert_vehicles[23]['query'] = '('.$seller.', 0, 2, 56, 817, 2, 1, 2, 3, 1, 0, "", 69772, "", 0, "", "", "", "", "", "", "", "", 1, "", "toyota-camry", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "DVMzdQJKr", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"crewcab\":1,\"longbox\":1},\"interior\":{\"cruisecontrol\":1,\"bucketseats\":1,\"dualclimatecontrol\":1,\"childseats\":1,\"heatedmirrors\":1,\"cooledseats\":1,\"heatedseats\":1,\"leatherseats\":1,\"powermirrors\":1,\"powerwindows\":1,\"tiltsteering\":1,\"tintedwindows\":1,\"tv\":1},\"exterior\":{\"alloywheels\":1,\"bugshield\":1,\"foglamps\":1,\"heatedwindshield\":1,\"luggagerack\":1,\"metallicpaint\":1,\"newtyres\":1,\"rarewheels\":1,\"runningboards\":1,\"sunroof\":1,\"toneaucover\":1,\"towingpackage\":1},\"electronics\":{\"dvdplayer\":1,\"dualdvd\":1,\"informationcenter\":1,\"ipodmp3port\":1,\"onstar\":1,\"backupcameraandmirror\":1,\"satelliteradio\":1},\"safety\":{\"antilockbrakes\":1,\"cartracker\":1,\"passengerairbag\":1,\"rearairbags\":1,\"sideairbags\":1}}", "", "")';
            $insert_vehicles[23]['images'] = 5;

            $insert_vehicles[24]['query'] = '('.$seller2.', 0, 12, 56, 825, 2, 2, 2, 3, 1, 0, "", 69776, "2", 0, "", "", "", "", "", "", "", "", 1, "", "toyota-land-cruiser", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "bzVLfMgZr", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 1, 0, 1, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"extendedcab\":1,\"longbox\":1,\"offroadpackage\":1},\"interior\":{\"narrowbucketseats\":1,\"retrobucketseats\":1,\"adjustablefootpedals\":1,\"airconditioning\":1,\"centerconsole\":1,\"dualclimatecontrol\":1,\"childseats\":1,\"powermirrors\":1,\"powerseats\":1,\"reardefrost\":1},\"exterior\":{\"bedliner\":1,\"bugshield\":1,\"dualslidingdoor\":1,\"foglamps\":1,\"heatedwindshield\":1,\"metallicpaint\":1,\"newtyres\":1,\"rarewheels\":1,\"ridecontrol\":1,\"ttops\":1},\"electronics\":{\"antitheft\":1,\"informationcenter\":1,\"ipodport\":1,\"backupcameraandmirror\":1,\"parkassistrear\":1,\"powerliftgate\":1,\"remotestart\":1,\"satelliteradio\":1,\"steeringwheelcontrol\":1,\"tyrepressuremonitoringsystem\":1,\"trailerbrakesystem\":1,\"tripmileagecomputer\":1}}", "", "")';
            $insert_vehicles[24]['images'] = 5;

            $insert_vehicles[25]['query'] = '('.$seller.', 0, 6, 56, 832, 3, 1, 2, 3, 1, 0, "", 69825, "", 0, "", "", "", "", "", "", "", "", 1, "", "toyota-prius", "", "'.date("Y-m-d H:i:s").'", 0, 0, "0000-00-00 00:00:00", "0000-00-00 00:00:00", "'.date("Y-m-d H:i:s", strtotime("+12 months")).'", 2, "zMXKLpRF2", 0, 0, "0000-00-00 00:00:00", "", "", "", "", "", "", "", "", "", "", "", 0, "1970-01-01 00:00:00", "1970-01-01 00:00:00", 0, 0, 2, "", 0, 0, 0, 0, 0, "{\"body\":{\"4door\":1,\"convertible\":1,\"crewcab\":1,\"shortbox\":1},\"drivetrain\":{\"2wheeldrive\":1},\"interior\":{\"narrowbucketseats\":1,\"adjustablefootpedals\":1,\"cruisecontrol\":1,\"centerconsole\":1,\"childseats\":1,\"heatedmirrors\":1,\"powermirrors\":1,\"powerseats\":1,\"powerwindows\":1,\"tintedwindows\":1},\"exterior\":{\"cargocover\":1,\"foglamps\":1,\"limitationconvertibletop\":1,\"premiumwheels\":1,\"runningboards\":1,\"toneaucover\":1},\"electronics\":{\"alarm\":1,\"antitheft\":1,\"dvdplayer\":1,\"handsfreecomsys\":1,\"integratedphone\":1,\"memoryseats\":1,\"navigationsystem\":1,\"powerliftgate\":1,\"rearstereo\":1,\"satelliteradio\":1,\"tripmileagecomputer\":1},\"safety\":{\"antilockbrakes\":1,\"backupsensors\":1,\"cartracker\":1,\"passengerairbag\":1,\"sideairbags\":1,\"tractioncontrol\":1}}", "", "");';
            $insert_vehicles[25]['images'] = 5;
            // vehicle sample data query end
            global $wpdb;
            $basepath = ABSPATH;
            if (jsvehiclemanager::$_car_manager_theme == 0) {// eihter 4 vehicles or 26 vehicles
                // sample data zip extraction
                if (file_exists( jsvehiclemanager::$_path. "/includes/sampledata/vm_sample_data.zip")) {
                    require_once jsvehiclemanager::$_path . '/includes/lib/pclzip.lib.php';
                    $archive = new PclZip(jsvehiclemanager::$_path. "/includes/sampledata/vm_sample_data.zip");
                     $v_list = $archive->extract($wp_upload_dir["basedir"]."/jsvehiclemanager_data/");
                }
                // inserting vehicles
                for ($i=0; $i <= 6; $i++) {
                    $query = 'INSERT INTO `'.$wpdb->prefix.'js_vehiclemanager_vehicles` ( `uid`, `sellerinfoid`, `vehicletypeid`, `makeid`, `modelid`, `modelyearid`, `conditionid`, `fueltypeid`, `cylinderid`, `transmissionid`, `adexpiryid`, `regcity`, `loccity`, `mileages`, `price`, `exteriorcolor`, `interiorcolor`, `enginecapacity`, `cityfuelconsumption`, `highwayfuelconsumption`, `video`, `videotype`, `description`, `status`, `title`, `alias`, `loczip`, `created`, `isgoldvehicle`, `isfeaturedvehicle`, `startfeatureddate`, `endfeatureddate`, `adexpiryvalue`, `currencyid`, `vehicleid`, `hits`, `issold`, `solddate`, `latitude`, `longitude`, `registrationnumber`, `chasisnumber`, `enginenumber`, `streetaddress`, `stocknumber`, `acceleration`, `maxspeed`, `bargainprice`, `exportprice`, `isdiscount`, `discountstart`, `discountend`, `discounttype`, `discount`, `speedmetertypeid`, `co2`, `soldbyuid`, `goldvehiclebyuid`, `featuredvehiclebyuid`, `isdeleted`, `deletevehiclebyid`, `vehicleoptions`, `params`, `brochure`) VALUES   ';
                    $query .= $insert_vehicles[$i]['query'];
                    $wpdb->query($query);
                    $vehicleid = $wpdb->insert_id;
                    if(is_numeric($vehicleid)){
                        // inserting vehicle images
                        $this->storeSampleVehicleImages($vehicleid,$insert_vehicles[$i]['images'],$i);
                    }
                }
            }else{ // insert plugin data for template // 26 vehicles
                // sample data zip extraction
                // sampla data containin images of 26 vehicles
                // code to make temp directory
                if(file_exists($basepath.'tmp')){
                    $this->recursiveremove($basepath.'tmp');
                }
                if(file_exists($basepath.'tmp')){
                    rename($basepath.'tmp', $basepath.'tmp-rename');
                }
                $this->makeDir($basepath.'tmp');
                // temp dir code end
                $url = "http://wpvehiclemanager.com/setup/demoimporter/js_car_manager/cm_sample_data.zip";
                $filepath = $basepath . "/tmp/cm_sample_data.zip";
                $tmpfile = download_url( $url);
                copy( $tmpfile, $filepath );
                @unlink( $tmpfile ); // must unlink afterwards



                if (file_exists($basepath . "/tmp/cm_sample_data.zip")) {
                    require_once jsvehiclemanager::$_path . '/includes/lib/pclzip.lib.php';
                    $archive = new PclZip($basepath . "/tmp/cm_sample_data.zip");
                    $v_list = $archive->extract($wp_upload_dir["basedir"]."/jsvehiclemanager_data/");
                }

                // endf testing code
                // inserting vehicles
                for ($i=0; $i < 26; $i++) {
                    $query = 'INSERT INTO `'.$wpdb->prefix.'js_vehiclemanager_vehicles` ( `uid`, `sellerinfoid`, `vehicletypeid`, `makeid`, `modelid`, `modelyearid`, `conditionid`, `fueltypeid`, `cylinderid`, `transmissionid`, `adexpiryid`, `regcity`, `loccity`, `mileages`, `price`, `exteriorcolor`, `interiorcolor`, `enginecapacity`, `cityfuelconsumption`, `highwayfuelconsumption`, `video`, `videotype`, `description`, `status`, `title`, `alias`, `loczip`, `created`, `isgoldvehicle`, `isfeaturedvehicle`, `startfeatureddate`, `endfeatureddate`, `adexpiryvalue`, `currencyid`, `vehicleid`, `hits`, `issold`, `solddate`, `latitude`, `longitude`, `registrationnumber`, `chasisnumber`, `enginenumber`, `streetaddress`, `stocknumber`, `acceleration`, `maxspeed`, `bargainprice`, `exportprice`, `isdiscount`, `discountstart`, `discountend`, `discounttype`, `discount`, `speedmetertypeid`, `co2`, `soldbyuid`, `goldvehiclebyuid`, `featuredvehiclebyuid`, `isdeleted`, `deletevehiclebyid`, `vehicleoptions`, `params`, `brochure`) VALUES   ';
                    $query .= $insert_vehicles[$i]['query'];
                    $wpdb->query($query);
                    $vehicleid = $wpdb->insert_id;
                    if(is_numeric($vehicleid)){
                        // inserting vehicle images
                        $this->storeSampleVehicleImages($vehicleid,$insert_vehicles[$i]['images'],$i);
                    }
                }
            }
        }
            return true;
    }

    function importftpSampleData(){
        $cm_pages = array();
        $page_array = array();

        if(in_array('comparevehicle', jsvehiclemanager::$_active_addons)){
            $page_array[6] = 'Compare Vehicles';
        }
        if(in_array('shortlist', jsvehiclemanager::$_active_addons)){
            $page_array[8] = 'Shortlisted Vehicles';
        }
        if(in_array('credits', jsvehiclemanager::$_active_addons)){
            $page_array[14] = 'Credits';
            $page_array[15] = 'Rate List';
            $page_array[16] = 'Purchase History';
            $page_array[17] = 'Credits Log';
        }
        foreach ($page_array as $key => $value) {
            // $value_string = strtolower($value);
            // $value_string = sanitize_title($value_string);
            $value_string = strtolower($value);
            $value_string = str_replace(" ","_",$value_string);

            $new_page_title = $value;
            $new_page_content = '[vc_row][vc_column][cm_vehicle_manager_pages page page="'.$key.'"][/vc_column][/vc_row]';
            $new_page_template = "templates/template-fullwidth.php";
            $page_check = get_page_by_title($new_page_title);
            $new_page = array(
                    "post_type" => "page",
                    "post_title" => $new_page_title,
                    "post_content" => $new_page_content,
                    "post_status" => "publish",
                    "post_author" => 1,
                    "post_parent" => 0,
            );
            if(!isset($page_check->ID)){
                $cm_pages[$value_string] = wp_insert_post($new_page);
            }else{
                $new_page["post_title"] = "Car Manager ".$new_page_title;
                $cm_pages[$value_string] = wp_insert_post($new_page);
            }
            update_post_meta($cm_pages[$value_string], "cm_show_header", 1);
            update_post_meta($cm_pages[$value_string], "_wp_page_template", $new_page_template);
            if($key == 6){
                $image = $wp_upload_dir["baseurl"]."/2017/01/compare_header.png";
                update_post_meta($cm_pages[$value_string], "cm_headerimage_url", $image);
            }
        }
        // Update WP Options
        $pages_array = get_option("vehicle-manager-layout");
        $wp_page_array = array(
            "comparevehicles" => isset($cm_pages["compare_vehicles"]) ? $cm_pages["compare_vehicles"] : '',
            "creditspack" => isset($cm_pages["credits"]) ? $cm_pages["credits"] : '',
            "creditslog" => isset($cm_pages["credits_log"]) ?$cm_pages["credits_log"] : '',
            "purchasehistory" => isset($cm_pages["purchase_history"]) ? $cm_pages["purchase_history"] : '',
            "ratelist" => isset($cm_pages["rate_list"]) ? $cm_pages["rate_list"] : '',
            "shortlistvehicles" => isset($cm_pages["shortlisted_vehicles"]) ? $cm_pages["shortlisted_vehicles"] : '',
        );
        $final_array = array_merge($pages_array,$wp_page_array);
        update_option("vehicle-manager-layout", $final_array);

        // menu items
        $menu_name = "Car Manager";
        $menu_exists = wp_get_nav_menu_object( $menu_name );
        // If it doesn"t exist, let"s create it.
        if( !$menu_exists){
            $menu_id = wp_create_nav_menu($menu_name);
            $locations = get_theme_mod("nav_menu_locations");
            $locations["primary"] = $menu_id;
            set_theme_mod( "nav_menu_locations", $locations );
        }else{
            $menu_id = $menu_exists->term_id;
        }

        $locations = get_theme_mod("nav_menu_locations");
        $locations["primary"] = $menu_id;
        set_theme_mod( "nav_menu_locations", $locations );
        // creating menu items
        if($cm_pages["compare_vehicles"] != ''){
            $parent_id = $this->createCarManagerMenuItem($menu_id,$cm_pages["compare_vehicles"],0,"Pro Links");
            $this->createCarManagerMenuItem($menu_id,$cm_pages["compare_vehicles"],$parent_id);
        }
        if($cm_pages["shortlisted_vehicles"] != ''){
            $this->createCarManagerMenuItem($menu_id,$cm_pages["shortlisted_vehicles"],$parent_id);
        }
        if($cm_pages["credits"] != ''){
            $parent_credits = $this->createCarManagerMenuItem($menu_id,$cm_pages["credits"],$parent_id);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["credits_log"],$parent_credits);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["purchase_history"],$parent_credits);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["rate_list"],$parent_credits);
        }
        // refresh parmlinks
        update_option("rewrite_rules", "");
        return 1;
    }

    function createCarManagerMenuItem($menu_id,$wp_pageid,$parent_id = 0,$title=''){
        $itemData = array();
        if($title != ''){
            $itemData['menu-item-title'] = $title;
        }
        $itemData["menu-item-object-id"] = $wp_pageid;
        $itemData["menu-item-parent-id"] = $parent_id;
        $itemData["menu-item-object"] = "page";
        $itemData["menu-item-type"] = "post_type";
        $itemData["menu-item-status"] = "publish";
        $return_parent_id = wp_update_nav_menu_item($menu_id, 0, $itemData);
        return $return_parent_id;
    }

    function createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header,$file_path=''){
        $new_page = array(
            "post_type" => "page",
            "post_title" => $page_title,
            "post_content" => $page_content,
            "post_status" => "publish",
            "post_author" => 1,
            "post_parent" => 0,
        );
        $page_check = get_page_by_title($page_title);
        if(!isset($page_check->ID)){
            $page_id = wp_insert_post($new_page);
        }else{
            $new_page["post_title"] = "Car Manager ".$page_title;
            $page_check = get_page_by_title($new_page["post_title"]);
            if(!isset($page_check->ID)){
                $page_id = wp_insert_post($new_page);
            }else{
                $page_id = $page_check->ID;
            }
        }
        if(isset($page_id) && $page_id != ''){
            update_post_meta($page_id, "cm_show_header", $show_header);
            update_post_meta($page_id, "cm_headerimage_url", $file_path);
            if($page_template != ''){
                update_post_meta($page_id, "_wp_page_template", $page_template);
            }
        }

        return $page_id;
    }

    function importTemplateSampleData($flag){
        if($flag == 'f'){
            return 0;
        }elseif($flag == 'ftp'){
            $result = $this->importftpSampleData();
            return $result;
        }
        global $wpdb;
        $basepath = ABSPATH;
        $wp_upload_dir = wp_upload_dir();
        // template data images
        if (file_exists(jsvehiclemanager::$_path. "/includes/sampledata/cm_sample_data.zip")) {
            require_once jsvehiclemanager::$_path . '/includes/lib/pclzip.lib.php';
            $archive = new PclZip(jsvehiclemanager::$_path. "/includes/sampledata/cm_sample_data.zip");
            $v_list = $archive->extract($wp_upload_dir["basedir"]);
        }
        $error_revslider = false;
        $error_composer = false;
        include_once( ABSPATH . "wp-admin/includes/plugin.php" );
        // Check for the rev slider
        if(!file_exists(WP_PLUGIN_DIR."/revslider/revslider.php")){ // Unzip
            $error_revslider = true;
        }
        if(!file_exists(WP_PLUGIN_DIR."/js_composer/js_composer.php")){ // Unzip
            $error_composer = true;
        }
        if($error_revslider == false){
            include_once( WP_PLUGIN_DIR . "/revslider/revslider.php" );
            $slider = new RevSlider();
            if(file_exists(jsvehiclemanager::$_path. "/includes/sampledata/rs_sample_data.zip")){ // Unzip
                $slider->importSliderFromPost(false, true, jsvehiclemanager::$_path. "/includes/sampledata/rs_sample_data.zip");
            }
        }

        if( ! function_exists("__update_post_meta")){
            function __update_post_meta( $post_id, $field_name, $value = "" ){
                if ( empty( $value ) OR ! $value ){
                    delete_post_meta( $post_id, $field_name );
                }elseif ( ! get_post_meta( $post_id, $field_name ) ){
                    add_post_meta( $post_id, $field_name, $value );
                }else{
                    update_post_meta( $post_id, $field_name, $value );
                }
            }
        }
        if( ! function_exists("uploadPostFeatureImage")){
            function uploadPostFeatureImage($filename,$parent_post_id){
                // Check the type of file. We"ll use this as the "post_mime_type".
                $filetype = wp_check_filetype( basename( $filename ), null );
                // Get the path to the upload directory.
                $wp_upload_dir = wp_upload_dir();
                // Prepare an array of post data for the attachment.
                $attachment = array(
                    "guid"           => $wp_upload_dir["url"] . "/" . basename( $filename ),
                    "post_mime_type" => $filetype["type"],
                    "post_title"     => preg_replace( "/\.[^.]+$/", "", basename( $filename ) ),
                    "post_content"   => "",
                    "post_status"    => "inherit"
                );
                // Insert the attachment.
                $attach_id = wp_insert_attachment( $attachment, $filename, $parent_post_id );
                // Make sure that this file is included, as wp_generate_attachment_metadata() depends on it.
                require_once( ABSPATH . "wp-admin/includes/image.php" );
                // Generate the metadata for the attachment, and update the database record.
                $attach_data = wp_generate_attachment_metadata( $attach_id, $filename );
                wp_update_attachment_metadata( $attach_id, $attach_data );
                set_post_thumbnail( $parent_post_id, $attach_id );
            }
        }

        $wp_upload_dir = wp_upload_dir();

        $cm_pages = array();
        $cm_post_ids = array();
        // Home
        $page_title = "Home";
        $vehicletype = 1;
        if(in_array('featuredvehicle', jsvehiclemanager::$_active_addons)){
            $vehicletype = 2;
        }
        $page_content = '[vc_row][vc_column][cm_slideshow jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" vehicletype="'.$vehicletype.'" slidewidth="1170" slideheight="690" posts_per_page="20"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_search jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="3"][/vc_column][/vc_row][vc_row][vc_column][cm_featured_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" speed="4" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_carmanagerstats icon4="fa fa-car"][/vc_column][/vc_row][vc_row][vc_column][cm_twoColorBoxLinksstyle2 box1heading="Looking for car ?" box1link="url:'.urlencode(get_the_permalink($cm_pages["vehicles"])).'|title:SEARCH%20YOUR%20DREAM%20CAR|" box2link="url:'.urlencode(get_the_permalink($cm_pages["add_vehicle"])).'|title:SELL%20YOUR%20CAR|"][/vc_column][/vc_row][vc_row][vc_column][cm_buy_now_with_shortdescription title="Lorem Ipsum is text of the printing and typesetting industry." link="url:'.urlencode(get_the_permalink($cm_pages["add_vehicle"])).'|title:Post%20Vehicle|"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1477026076936{background-color: #f0f0f0 !important;}"][vc_column][cm_popular_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" scrollstyle="1" speed="1" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_newest_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" posts_per_page="10" icon="fa fa-newspaper-o"][/vc_column][/vc_row][vc_row][vc_column][cm_4count_box style="4" count1="787" count2="46" count3="519" count4="196" background_image="'.site_url().'/wp-content/themes/car-manager/images/twocolorbox-2.png"][/vc_column][/vc_row][vc_row][vc_column][cm_buy_now_with_shortdescription title="Lorem Ipsum is simply dummy text of the typesetting."link="'.urlencode(get_the_permalink($cm_pages["vehicles"])).'|title:Newest%20Vehicles||"][/vc_column][/vc_row][vc_row][vc_column][cm_news_and_rumors style="3"][/vc_column][/vc_row][vc_row][vc_column][cm_testimonial style="2" heading="Happy Clients" testimonialstext="Feedback of Our Happy Clients."][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_types jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" posts_per_page="10" scrollstyle="1" displaystyle="2" displaynumber="1" speed="1" heading="Vehicle by types" description="Vehicle types are listed here lorem iosum"][/vc_column][/vc_row][vc_row][vc_column][cm_buy_now_with_shortdescription title="Lorem Ipsum is simply dummy text of the printing and." link="url:'.urlencode(get_the_permalink($cm_pages["add_vehicle"])).'|title:Post%20|"][/vc_column][/vc_row]';
        $page_template = "templates/template-homepage.php";
        $show_header = 2;
        $cm_pages["home"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);
        // Home 1
        $page_title = "Home 1";
        $page_content = '[vc_row][vc_column][cm_slideshow jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" vehicletype="1" slidewidth="1170" slideheight="690" posts_per_page="20"][/vc_column][/vc_row][vc_row][vc_column][cm_buy_now title="Find your dream car in our inventory!" link="url:'.urlencode(get_the_permalink($cm_pages["vehicles"])).'|title:Vehicles%20inventory|"][cm_vehicle_search jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="1" jsautozpageid="207"][cm_3features][/vc_column][/vc_row][vc_row][vc_column][cm_featured_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" speed="4" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_twoColorBoxLinks box1heading="Looking for car ?" box1link="url:'.urlencode(get_the_permalink($cm_pages["vehicles"])).'|title:Vehicles|" box2link="url:'.urlencode(get_the_permalink($cm_pages["add_vehicle"])).'|title:Add%20vehicle|"][/vc_column][/vc_row][vc_row][vc_column][cm_newest_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" posts_per_page="10" icon="fa fa-newspaper-o"][/vc_column][/vc_row][vc_row][vc_column][cm_4count_box style="1" count1="387" count2="46" count3="919" count4="196"][cm_buy_now_with_shortdescription title="Sell your car" link="url:'.urlencode(get_the_permalink($cm_pages["add_vehicle"])).'|title:Post%20ad|"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1477026076936{background-color: #f0f0f0 !important;}"][vc_column][cm_popular_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" scrollstyle="1" speed="1" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_news_and_rumors style="1" bottomlink="url:'.urlencode(get_the_permalink($cm_pages["news_and_rumors"])).'|title:Show%20all%20news|target:%20_blank"][/vc_column][/vc_row][vc_row][vc_column][cm_price_tables posts_per_page="3"][/vc_column][/vc_row][vc_row][vc_column][cm_testimonial][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_makes jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="1" scrollstyle="2" posts_per_page="10" speed="1" heading="Vehicle Makes" description="Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer" ][/vc_column][/vc_row]';
        $page_template = "templates/template-homepage.php";
        $show_header = 2;
        $cm_pages["home1"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);
        // home 2
        $page_title = "Home 2";
        $page_content = '[vc_row full_width="stretch_row_content_no_spaces"][vc_column][cm_vehicle_gmap jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" mapheight="450"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_search jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="4"][/vc_column][/vc_row][vc_row][vc_column][cm_newest_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="3" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_types jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" posts_per_page="10" scrollstyle="1" speed="1" heading="Vehicle by types" description="Vehicle types are listed here"][/vc_column][/vc_row][vc_row][vc_column][cm_4count_box style="3" count1="387" count2="46" count3="919" count4="196"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482236697714{background-color: #f7f7f8 !important;}"][vc_column][cm_popular_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" scrollstyle="1" speed="1" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_makes jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="1" scrollstyle="1" posts_per_page="10" speed="1" heading="Vehicle Makes" description="Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer"][/vc_column][/vc_row]';
        $page_template = "templates/template-homepage.php";
        $show_header = 2;
        $cm_pages["home2"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);
        // home 3
        $page_title = "Home 3";
        $page_content = '[vc_row][vc_column][cm_slideshow jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" vehicletype="3" slidewidth="1170" slideheight="690" posts_per_page="20"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_search jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="3"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_types jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" posts_per_page="15" scrollstyle="1" speed="1" heading="Vehicle by types" description=""][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482235945739{background-color: #f7f7f8 !important;}"][vc_column][cm_popular_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="2" scrollstyle="1" speed="1" posts_per_page="10"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482235960892{background-color: #f7f7f8 !important;}"][vc_column][cm_image_and_text_box style="2" image="817"][/vc_column][/vc_row][vc_row][vc_column][cm_newest_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="3" posts_per_page="10" icon="fa fa-shopping-bag"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482235970999{background-color: #f7f7f8 !important;}"][vc_column][cm_news_and_rumors style="1"][/vc_column][/vc_row][vc_row][vc_column][cm_price_tables posts_per_page="3"][/vc_column][/vc_row][vc_row][vc_column][cm_testimonial][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482235815812{background-color: #f7f7f8 !important;}"][vc_column][cm_team_memebers per_row="3" posts_per_page="3"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482235846192{background-color: #f7f7f8 !important;}"][vc_column][cm_vehicle_makes jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="2" scrollstyle="1" posts_per_page="10" speed="1" heading="Vehicle Makes" description="Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer"][/vc_column][/vc_row]';
        $page_template = "templates/template-homepage.php";
        $show_header = 2;
        $cm_pages["home3"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);
        // home 4
        $page_title = "Home 4";
        $page_content = '[vc_row full_width="stretch_row_content_no_spaces"][vc_column][rev_slider alias="home-6"][cm_buy_now title="Find your dream car in our inventory!" link="url:'.urlencode(get_the_permalink($cm_pages["vehicles"])).'|title:Vehicles%20inventory|"][/vc_column][/vc_row][vc_row][vc_column][cm_3features style="3"][/vc_column][/vc_row][vc_row][vc_column][cm_newest_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_4count_box style="3" count1="387" count2="46" count3="919" count4="196"][cm_buy_now_with_shortdescription link="url:'.urlencode(get_the_permalink($cm_pages["add_vehicle"])).'|title:Post%20ad|"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1484204801794{background-color: #f7f7f7 !important;}"][vc_column][cm_popular_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="1" scrollstyle="1" speed="1" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_news_and_rumors style="1"][/vc_column][/vc_row][vc_row css=".vc_custom_1484204868544{background-color: #f7f7f7 !important;}"][vc_column][cm_team_memebers per_row="4" posts_per_page="4"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_makes jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="1" scrollstyle="1" posts_per_page="10" speed="1" heading="Vehicle Makes" description="Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer"][/vc_column][/vc_row]';
        $page_template = "templates/template-homepage.php";
        $show_header = 2;
        $cm_pages["home4"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);
        // home 5
        $page_title = "Home 5";
        $page_content = '[vc_row][vc_column][cm_slideshow jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" vehicletype="'.$vehicletype.'" slidewidth="1170" slideheight="690" posts_per_page="20"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_search jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="3"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482236101264{background-color: #f7f7f8 !important;}"][vc_column][cm_3features style="3"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482474329948{padding-top: 0px !important;background-color: #f7f7f8 !important;}"][vc_column css=".vc_custom_1482474407748{padding-top: 0px !important;}"][cm_vehicle_types jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" posts_per_page="10" scrollstyle="1" speed="1" heading="Vehicle Types" description="Vehicle types are listed here"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482236086007{background-color: #f7f7f8 !important;}"][vc_column][cm_newest_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="4" posts_per_page="10"][/vc_column][/vc_row][vc_row][vc_column][cm_4count_box style="2" count1="387" count2="46" count3="919" count4="196"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482237925727{background-color: #f7f7f8 !important;}"][vc_column][cm_popular_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="2" scrollstyle="1" speed="1" posts_per_page="10"][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482237914257{background-color: #f7f7f8 !important;}"][vc_column][cm_news_and_rumors style="1"][/vc_column][/vc_row][vc_row][vc_column][cm_price_tables posts_per_page="3"][/vc_column][/vc_row][vc_row][vc_column][cm_testimonial][/vc_column][/vc_row][vc_row full_width="stretch_row" css=".vc_custom_1482237889779{background-color: #f7f7f8 !important;}"][vc_column][cm_team_memebers per_row="4" posts_per_page="4"][/vc_column][/vc_row]';
        $page_template = "templates/template-homepage.php";
        $show_header = 2;
        $cm_pages["home5"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);

        // home 6
        $page_title = "Home 6";
        $page_content = '[vc_row][vc_column][cm_vehicle_search jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" style="2"][/vc_column][/vc_row][vc_row][vc_column][cm_3features style="2"][/vc_column][/vc_row][vc_row][vc_column][cm_vehicle_types jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" posts_per_page="15" scrollstyle="2" speed="1" heading="Vehicle by types" description="Vehicle types are listed here"][/vc_column][/vc_row][vc_row][vc_column][cm_newest_vehicles jsvehiclemanagerpageid="'.$cm_pages["vehicle_detail"].'" style="2" posts_per_page="20" icon="fa fa-credit-card-alt"][/vc_column][/vc_row][vc_row][vc_column][cm_news_and_rumors style="1"][/vc_column][/vc_row][vc_row][vc_column][cm_image_and_text_box image="973"][/vc_column][/vc_row]';
        $page_template = "templates/template-homepage.php";
        $show_header = 2;
        $cm_pages["home6"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);

        // Price table
        $page_title = "Pricing Table";
        $page_content = '<div class="jsvm_cm-price-box-wrp nobg"> <div class="jsvm_cm-price-box-list"> <div class="col-md-4"> <div class="jsvm_cm-price-box jsvm_cm-pkg-color-1"> <div class="jsvm_cm-price-box-heading jsvm_cm-pkg-color-1"> <h4 class="jsvm_cm-price-box-heading-txt">Basic Package</h4> </div> <div class="jsvm_cm-price-box-pg-price-wrp jsvm_cm-pkg-color-1"> <span class="jsvm_cm-price-box-pg-price jsvm_cm-pkg-color-1">$200</span> </div> <ul class="list-group jsvm_cm-price-box-pg-crdts-list"> <li class="list-group-item jsvm_cm-price-box-pg-crdts-txt">Credits</li> <li class="list-group-item jsvm_cm-price-box-pg-price-txt cm-pkg-color-1">50,000</li> <li class="list-group-item jsvm_cm-price-box-pg-crdts-exp-txt">Expire In 60 Days</li> </ul> <a href="#" class="jsvm_cm-price-box-bn-btn-txt cm-pkg-color-1">Buy Now</a> </div> </div> <div class="col-md-4"> <div class="jsvm_cm-price-box jsvm_cm-pkg-color-2"> <div class="jsvm_cm-price-box-heading jsvm_cm-pkg-color-2"> <h4 class="jsvm_cm-price-box-heading-txt">Basic Package</h4> </div> <div class="jsvm_cm-price-box-pg-price-wrp jsvm_cm-pkg-color-2"> <span class="jsvm_cm-price-box-pg-price jsvm_cm-pkg-color-2">$350</span> </div> <ul class="list-group jsvm_cm-price-box-pg-crdts-list"> <li class="list-group-item jsvm_cm-price-box-pg-crdts-txt">Credits</li> <li class="list-group-item jsvm_cm-price-box-pg-price-txt cm-pkg-color-2">50,000</li> <li class="list-group-item jsvm_cm-price-box-pg-crdts-exp-txt">Expire In 60 Days</li> </ul> <a href="#" class="jsvm_cm-price-box-bn-btn-txt jsvm_cm-pkg-color-2">Buy Now</a> </div> </div> <div class="col-md-4"> <div class="jsvm_cm-price-box jsvm_cm-pkg-color-3"> <div class="jsvm_cm-price-box-heading jsvm_cm-pkg-color-3"> <h4 class="jsvm_cm-price-box-heading-txt">Basic Package</h4> </div> <div class="jsvm_cm-price-box-pg-price-wrp jsvm_cm-pkg-color-3"> <span class="jsvm_cm-price-box-pg-price jsvm_cm-pkg-color-3">$350</span> </div> <ul class="list-group jsvm_cm-price-box-pg-crdts-list"> <li class="list-group-item jsvm_cm-price-box-pg-crdts-txt">Credits</li> <li class="list-group-item jsvm_cm-price-box-pg-price-txt cm-pkg-color-3">50,000</li> <li class="list-group-item jsvm_cm-price-box-pg-crdts-exp-txt">Expire In 60 Days</li> </ul> <a href="#" class="jsvm_cm-price-box-bn-btn-txt jsvm_cm-pkg-color-3">Buy Now</a> </div> </div> <div class="col-md-4"> <div class="jsvm_cm-price-box jsvm_cm-pkg-color-4"> <div class="jsvm_cm-price-box-heading jsvm_cm-pkg-color-4"> <h4 class="jsvm_cm-price-box-heading-txt">Basic Package</h4> </div> <div class="jsvm_cm-price-box-pg-price-wrp jsvm_cm-pkg-color-4"> <span class="jsvm_cm-price-box-pg-price jsvm_cm-pkg-color-4">$350</span> </div> <ul class="list-group jsvm_cm-price-box-pg-crdts-list"> <li class="list-group-item jsvm_cm-price-box-pg-crdts-txt">Credits</li> <li class="list-group-item jsvm_cm-price-box-pg-price-txt cm-pkg-color-4">50,000</li> <li class="list-group-item jsvm_cm-price-box-pg-crdts-exp-txt">Expire In 60 Days</li> </ul> <a href="#" class="jsvm_cm-price-box-bn-btn-txt jsvm_cm-pkg-color-4">Buy Now</a> </div> </div> <div class="col-md-4"> <div class="jsvm_cm-price-box jsvm_cm-pkg-color-5"> <div class="jsvm_cm-price-box-heading jsvm_cm-pkg-color-5"> <h4 class="jsvm_cm-price-box-heading-txt">Basic Package</h4> </div> <div class="jsvm_cm-price-box-pg-price-wrp jsvm_cm-pkg-color-5"> <span class="jsvm_cm-price-box-pg-price jsvm_cm-pkg-color-5">$350</span> </div> <ul class="list-group jsvm_cm-price-box-pg-crdts-list"> <li class="list-group-item jsvm_cm-price-box-pg-crdts-txt">Credits</li> <li class="list-group-item jsvm_cm-price-box-pg-price-txt jsvm_cm-pkg-color-5">50,000</li> <li class="list-group-item jsvm_cm-price-box-pg-crdts-exp-txt">Expire In 60 Days</li> </ul> <a href="#" class="jsvm_cm-price-box-bn-btn-txt jsvm_cm-pkg-color-5">Buy Now</a> </div> </div> <div class="col-md-4"> <div class="jsvm_cm-price-box jsvm_cm-pkg-color-6"> <div class="jsvm_cm-price-box-heading jsvm_cm-pkg-color-6"> <h4 class="jsvm_cm-price-box-heading-txt">Basic Package</h4> </div> <div class="jsvm_cm-price-box-pg-price-wrp jsvm_cm-pkg-color-6"> <span class="jsvm_cm-price-box-pg-price jsvm_cm-pkg-color-6">$350</span> </div> <ul class="list-group jsvm_cm-price-box-pg-crdts-list"> <li class="list-group-item jsvm_cm-price-box-pg-crdts-txt">Credits</li> <li class="list-group-item jsvm_cm-price-box-pg-price-txt cm-pkg-color-6">50,000</li> <li class="list-group-item jsvm_cm-price-box-pg-crdts-exp-txt">Expire In 60 Days</li> </ul> <a href="#" class="jsvm_cm-price-box-bn-btn-txt jsvm_cm-pkg-color-6">Buy Now</a> </div> </div> </div> </div>';
        $page_template = "templates/template-fullwidth.php";
        $show_header = 1;
        $cm_pages["pricing_table"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);

        /* Vehicle Manager Pages */

        $page_array = array();

        $page_array[1] = 'Vehicles';
        $page_array[2] = 'Search Vehicle';// seach
        $page_array[3] = 'Add Vehicle';// form vehicle
        $page_array[4] = 'My Vehicles';
        $page_array[5] = 'Dashboard';// my profile
        if(in_array('comparevehicle', jsvehiclemanager::$_active_addons)){
            $page_array[6] = 'Compare Vehicles';
        }
        $page_array[7] = 'Vehicle Detail';
        if(in_array('shortlist', jsvehiclemanager::$_active_addons)){
            $page_array[8] = 'Shortlisted Vehicles';
        }
        $page_array[9] = 'Vehicles By City';
        $page_array[10] = 'Vehicles By Type';
        $page_array[11] = 'Vehicles By Make';
        $page_array[12] = 'Sellers List';
        if(in_array('credits', jsvehiclemanager::$_active_addons)){
            $page_array[14] = 'Credits';
            $page_array[15] = 'Rate List';
            $page_array[16] = 'Purchase History';
            $page_array[17] = 'Credits Log';
        }
        if(in_array('vehiclealert', jsvehiclemanager::$_active_addons)){
            $page_array[18] = 'vehiclealerts';
        }
        $page_array[19] = 'login';
        $page_array[20] = 'Thank you';
        $page_array[21] = 'Sellers By City';

        foreach ($page_array as $key => $value) {
            // $value_string = strtolower($value);
            // $value_string = sanitize_title($value_string);
            $value_string = strtolower($value);
            $value_string = str_replace(" ","_",$value_string);

            $new_page_content = '';
            if($key == 9){
                $new_page_content .= '[vc_row full_width="stretch_row_content_no_spaces"][vc_column][cm_vehicle_gmap mapheight="450" jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'"][/vc_column][/vc_row]';
            }elseif($key == 21){
                $new_page_content .= '[vc_row full_width="stretch_row_content_no_spaces"][vc_column][cm_vehicle_gmap jsvehiclemanagerpageid="'.$cm_pages["vehicles"].'" mapheight="450" mapfor="2"][/vc_column][/vc_row]';
            }
            $page_title = $value;
            $new_page_content .= '[vc_row][vc_column][cm_vehicle_manager_pages page page="'.$key.'"][/vc_column][/vc_row]';
            $page_template = "templates/template-fullwidth.php";
            $page_check = get_page_by_title($page_title);
            $new_page = array(
                    "post_type" => "page",
                    "post_title" => $page_title,
                    "post_content" => $new_page_content,
                    "post_status" => "publish",
                    "post_author" => 1,
                    "post_parent" => 0,
            );
            if(!isset($page_check->ID)){
                $cm_pages[$value_string] = wp_insert_post($new_page);
            }else{
                $new_page["post_title"] = "Car Manager ".$page_title;
                $page_check = get_page_by_title($new_page["post_title"]);
                if(!isset($page_check->ID)){
                    $cm_pages[$value_string] = wp_insert_post($new_page);
                }
            }
            $show_header = 1;
            update_post_meta($cm_pages[$value_string], "_wp_page_template", $page_template);
            $image = '';
            if($key == 1 || $key == 2){
                $image = $wp_upload_dir["baseurl"]."/2017/01/vehicles_header.png";
            }elseif($key == 4){
                $image = $wp_upload_dir["baseurl"]."/2017/01/myvehicles_header.png";
            }elseif($key == 6){
                $image = $wp_upload_dir["baseurl"]."/2017/01/compare_header.png";
            }
            if($image != ''){
                update_post_meta($cm_pages[$value_string], "cm_headerimage_url", $image);
            }
        }

        // Update WP Options
        $wp_page_array = array(
            "vehicles" => $cm_pages["vehicles"],
            "vehicledetail" => $cm_pages["vehicle_detail"],
            "vehiclesbycity" => $cm_pages["vehicles_by_city"],
            "sellersbycity" => $cm_pages["sellers_by_city"],
            "vehiclesbymake" => $cm_pages["vehicles_by_make"],
            "vehiclesbytype" => $cm_pages["vehicles_by_type"],
            "comparevehicles" => isset($cm_pages["compare_vehicles"]) ? $cm_pages["compare_vehicles"] : '',
            "creditspack" => isset($cm_pages["credits"]) ? $cm_pages["credits"] : '',
            "creditslog" => isset($cm_pages["credits_log"]) ? $cm_pages["credits_log"] : '',
            "purchasehistory" => isset($cm_pages["purchase_history"]) ? $cm_pages["purchase_history"] : '',
            "ratelist" => isset($cm_pages["rate_list"]) ? $cm_pages["rate_list"] : '',
            "sellerlist" => $cm_pages["sellers_list"],
            "vehiclesearch" => $cm_pages["search_vehicle"],
            "dashboard" => $cm_pages["dashboard"],
            "formvehicle" => $cm_pages["add_vehicle"],
            "myvehicles" => $cm_pages["my_vehicles"],
            "shortlistvehicles" => isset($cm_pages["shortlisted_vehicles"]) ? $cm_pages["shortlisted_vehicles"] : '',
        );
        update_option("vehicle-manager-layout", $wp_page_array);

        // News & Rumors
        $page_title = "News & Rumors";
        $page_content = '[vc_row][vc_column][cm_news_and_rumors style="2" posts_per_page="2"][/vc_column][/vc_row]';
        $page_template = "templates/template-news_and_rumors.php";
        $show_header = 1;
        $file_path = $wp_upload_dir["baseurl"]."/2017/01/newsandrumors_header.png";
        $cm_pages["news_and_rumors"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header,$file_path);

        // FAQ
        $page_title = "FAQ";
        $page_content = '[vc_row][vc_column][vc_tta_accordion active_section="1" el_class="cm_faq_wrap"][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754286724-c9ed48ed-c7f7" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754537433-695717d6-6bfc" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754536332-73927004-0a28" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754535606-7dffd7a9-2119" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754534808-bb9dfb79-6d18" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754534095-ec21098b-4397" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754529612-21aedc15-ddd9" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][vc_tta_section title="Lorem Ipsum is simply dummy text of the printing and typesetting industry." tab_id="1482754528056-93a9c873-2efd" el_class="cm_faq"][vc_column_text]I am text block. Click edit button to change this text. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut elit tellus, luctus nec ullamcorper mattis, pulvinar dapibus leo.[/vc_column_text][/vc_tta_section][/vc_tta_accordion][/vc_column][/vc_row]';
        $page_template = "templates/template-fullwidth.php";
        $show_header = 1;
        $cm_pages["faq"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);

        // Our Team
        $page_title = "Our Team";
        $page_content = '[vc_row][vc_column][cm_team_memebers per_row="3" posts_per_page="3" style="3"][/vc_column][/vc_row][vc_row][vc_column][cm_team_memebers per_row="4" posts_per_page="4" heading="Other Team Members" style="4"][/vc_column][/vc_row]';
        $page_template = "templates/template-fullwidth.php";
        $show_header = 1;
        $cm_pages["ourteam"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);

        // Contact Us
        $page_title = "Contact Us";
        $page_content = "";
        $page_template = "templates/template-contactus.php";
        $show_header = 1;
        $cm_pages["contact_us"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);

        // Blog Page
        $page_title = "Blog";
        $page_content = "";
        $show_header = 1;
        $page_template = "";
        $file_path = $wp_upload_dir["baseurl"]."/2017/01/blog_header.png";

        $cm_pages["blog"] = $this->createTemplatePagesGeneric($page_title,$page_content,$page_template,$show_header);
        // Update home page contents

        // ----------------Posts -------- //

        $post_type = "post";

        $post_title = "As truck sales keep rolling, small cars hang on";
        $post_content = 'Sales of sedans and other cars fell to the lowest level in six years last month, while light trucks set a January record. In other words, the clamor for more crossovers and SUVs shows no signs of fading anytime soon. And it could mean the end of the Toyota Camry 15-year reign as the nation top-selling car. This year battle for that distinction may come down to two smaller cars, the Toyota Corolla and Honda Civic. Both outsold the Camry last month, as did four crossovers. As a whole, car sales have been ugly. But January numbers showed that the smaller end of the car market still has more life left in it. Sales of cars classified as compact or smaller declined only 3 percent last month, while midsize and larger cars plunged 23 percent. Including luxury and sporty nameplates, more than half of the cars sold in January were compact or smaller, up from 47 percent a year ago. The Ford Fiesta, Hyundai Accent, Toyota Yaris and Chevrolet Cruze all posted gains of nearly 40 percent last month. The Chevy Spark jumped 51 percent. "These small cars are really your entry-level new cars," said Tim Fleming, an analyst with Kelley Blue Book. "There always going to be a market for that kind of car simply because of the price point. It the midsize to full-size car range that people are instead going into SUVs." Because those smaller cars sell at lower prices, many of them are imported from countries with cheaper labor, including the Spark from South Korea, and the Fiesta from Mexico. That dynamic adds another layer to the discussions surrounding President Donald Trump threat to tax vehicles imported from Mexico and other Republican tax proposals that would target imports for new taxes. “These small cars are really your entry-level new cars.” Tim Fleming, analyst, Kelley Blue Book Overall, sales slipped 1.9 percent from January 2016, a stronger start to the year than many analysts expected in the wake of a blowout December. Light trucks accounted for 64 percent of last month sales, up from a record 60.7 percent for all of 2016. January marked the first time since April 2016 that incentives were higher for light trucks than for cars, according to figures from Autodata. The shift suggests that automakers are tiring of trying to artificially boost car sales and instead are focusing on expanding their share of the already-hot SUV and crossover segments. "It indicative of a slowing market," Fleming said. "That where the volume is, so that where the incentive dollars need to go as well." American Honda, for example, boosted incentive spending on the CR-V crossover by 48 percent from a year ago, Autodata said. CR-V sales surged 53 percent to 29,287 units, fourth place overall. The Camry, meanwhile, tumbled to 10th place in January. Toyota executives said in 2015 that they expected the RAV4 to supplant the Camry as the company top seller by the end of this decade. That time may have arrived even sooner than anticipated. "We sold a lot of CR-Vs and RAV4s," said Andrew Chiarelli, a manager at Motorcars Honda and Motorcars Toyota in Cleveland Heights, Ohio. "The CR-V is really doing well. We have maybe a seven- to 10-day supply of Pilots, too.".';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/post2.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "Facelifted BMW M2 begins testing";
        $post_content = 'He images provide clear hints to a lightly facelifted model tentatively planned for introduction during the second half of 2017. Despite wearing a light disguise, the prototypes caught testing by Autocar spy photographers clearly reveal the new headlamp and tail lamp treatment set to grace the upgraded M2 and other less powerful variants of the 2-series coupe and cabriolet, including the recently introduced 248bhp turbocharged 2.0-litre four-cylinder 230i and 335bhp turbocharged 3.0-litre in-line six-cylinder M240i. Although retaining the same shape as today’s units, the headlamps on the facelifted M2 receive new LED graphics with altered octagonal corona rings and main beam projectors. At the rear, the tail lamps also adopt new lenses featuring a similar horizontal themed LED enhanced graphic as the existing model. Also evident is the new front bumper expected to feature on the facelifted M2. While heavily disguised, it looks set to adopt a slightly wider kidney grille as well as altered air duct styling for a more efficient engine bay and front brake cooling. Further back, there are restyled sills underneath the doors. There’s also a modified rear bumper. It receives a redesigned diffuser featuring a new middle section. The particular prototype pictured here also appears to run a larger exhaust than the existing M2, suggesting BMW’s M division is set to provide the facelifted model with an altered system with more free flowing properties for added performance. Despite recent rumours suggesting the facelifted M2 may adopt a new B58 specification engine, Autocar understands it will retain the older N55 based unit until the planned introduction of a second generation model in 2019. In its current guise, the rear-wheel drive BMW performance coupe delivers 365bhp and 433lb ft of torque, giving it 0 to 62mph acceleration in 4.3sec in combination with an optional seven-speed dual clutch gearbox. Further speculation surrounding the facelifted M2 has revolved around the possibility of it featuring optional four-wheel drive in a move similar to the M240i xDrive. However, this is denied by M division sources. One clear change to the mechanical package seen on the M2 prototypes is an upgraded brake package featuring new discs and calipers.';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/post3.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "Tesla Model S beating Elon Musk estimate";
        $post_content = 'When Tesla introduced the Model S P100D this past August, the company said it had made the quickest full production car in the world, with the ability to go from zero to 60 miles per hour in a mere 2.5 seconds. Now a Motor Trend test has found that a recent software update can push the car even quicker than that, to a mere 2.28 seconds — 0.02 seconds faster than any production car Motor Trend has ever tested. In November, Tesla Chairman and CEO Elon Musk began telling followers on Twitter to expect a "Ludicrous+ Easter egg" software update that would unlock the car full power, shaving 0.1 seconds off its acceleration time. With Ludrious+ engaged, the P100D is even quicker than Musk himself had expected, though upon seeing the results he tweeted that the car could likely improve its performance more if one were to remove the car floor mats and front trunk liner. While the Tesla is quickest off the line, things start to change once the cars hit the 60 mph mark. Electric cars are known for delivering torque better than internal combustion engines, which helps them accelerate rapidly. However, as Motor Trend notes, the engines of the other supercars give them the advantage at higher speeds. At 70 mph, the LaFerrari edges ahead, followed by the Porsche 918 Spyder and the McLaren P1 at the 80 mph mark. Tesla did not offer any additional comment on the news.';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/post1.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "Toyota and Suzuki to co-develop green and safety tech";
        $post_content = 'Suzuki and Toyota have announced they are drawing up the framework for a partnership that will allow them to co-develop new environmental, safety and IT technology. In a joint statement, the Japanese car makers said their collaboration is designed to improve future mobility for the betterment of society. They confirmed that research will be shared, as well as technology and physical car parts. Toyota president Akio Toyoda said: "We want to cooperate toward enabling all people throughout the world to truly experience the joy of mobility and to achieving a society of future mobility full of smiles. I am truly thankful for having been given this opportunity to work together with a company such as Suzuki, which overflows with the spirit of challenge. Toyota looks forward to learning much." Toyota is the most Googled car brand worldwide The announcement comes four months after the companies revealed their intentions for such a partnership. The car makers began discussing the prospect of working together in order to keep up with competition. "In the face of the advanced and future technology R&D field, Suzuki is increasingly feeling a sense of uncertainty," said a Suzuki spokesman. The late 2016 statement went on to say that although Toyota has been conducting R&D in environmental, safety and IT technology, it believes that competitors in European and North American markets may be ahead of it when standardising and partnering with other companies for technological development. We have spied the next Suzuki Swift - read more here Suzuki’s infamous partnership with Volkswagen ended in a bitter legal battle resulting in the two companies parting ways far earlier than the deal set out, and Suzuki buying a 20% stake back from Volkswagen. Toyota, meanwhile, has been working on its next Supra in a joint venture with BMW that will also produce the Z5. Both of the new sports cars will be hybrids and will share many components. Development has now separated as the cars near completion, however. Read more about the BMW Z5 here Toyoda has suggested that more partnerships of this sort could be on the horizon. “We would like to always keep our doors open for new partnership opportunities, which will contribute to the making of ever better cars as well as to the development of the automotive industry," he said last year.';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/post5.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "Toyota Prius Plug-in Hybrid goes on sale";
        $post_content = 'The second-generation Toyota Prius Plug-in Hybrid is on sale now, costing from £34,895. That price is for the entry-level Business Edition Plus. With a sunroof, that model costs from £36,395, while the range-topping Excel model is priced at £37,095. All models are eligible for the Government £2,500 grant for plug-in hybrid (PHEV) buyers. A 100,000-mile/five-year warranty is standard. First customer deliveries are scheduled for 1 March. Toyota Safety Sense package will be standard on both versions. This includes automatic emergency braking (AEB) with pedestrian detection, lane departure warning with steering control. Optional safety features include blind spot monitoring and rear cross-traffic alert. Both models get an 8.0in infotainment touchscreen, a head-up display, two 4.2in TFT information screens and a rear-view parking camera. Sat-nav, a DAB radio, Bluetooth, a wireless phone-charging area and a rear-view parking camera come as standard. You also get model-specific two-tone 15in alloy wheels and automatic lights. Excel adds front and rear parking sensors and automatic wipers. Tech The Prius Plug-in Hybrid can reach 84mph in electric-only mode and drive up to 39 miles, which is more than double the 14-mile range of its predecessor. Officially, the new car can return 283mpg and emits just 22g/km of CO2 - the best figures yet achieved by any PHEV. The car lithium ion battery now has twice the capacity of the previous Prius Plug-in Hybrid, at 8.8kWh. This sends power through Toyota new Dual Motor Drive System - one motor 22.5kW, one 53 - which represents an 83% boost in EV power over the old system. This electric drive system works in conjunction with an 97bhp version of Toyota’s 1.8-litre four-cylinder petrol engine. A new exhaust gas recirculation system and improvements to its combustion make it, according to Toyota’s claims, the world most efficient mass-produced petrol engine. With the electric motors, overall power is 120bhp. Charging times have also been improved, thanks to an increase in the maximum power the car is capable of handling, from 2.0 to 3.3kW. The battery takes just two hours to charge up to 65% of capacity with a Type II Mennekes connector, or three hours and 10 minutes with a home plug socket. Looks Revealed at last year New York motor show, the new Prius Plug-in Hybrid looks little different to the regular Prius, but has a longer rear overhang, a higher rear spoiler and new LED lights front and rear. The car is 165mm longer than its predecessor, 15mm wider and 20mm lower with an impressive aerodynamic drag factor of 0.24, delivered by such sophisticated measures as a double-bubble rear window and an automatic radiator shutter which closes when cooling air is not needed by the engine. A gas injection heat pump system keeps the air conditioning working when the car is being driven in battery-only mode, while Business Plus models are available with optional solar panels on the roof that charge the battery when the sun shines - including when the car is parked and turned off. ‘More engaging’ driving position Toyota is at pains to portray the Plug-in Hybrid as a true driver’s car. It gets what designers call a “more engaging” driving position, a high centre console and the cabin layout of a luxury coupé, with a “dominant” centre cluster featuring 4.2in TFT screens and a wireless phone charging tray. The driver-orientated theme continues with “more precise and responsive handling” thanks to a new double wishbone rear suspension, revisions to the familiar Prius’s MacPherson strut front end and a lower centre of gravity, which also reduces body roll, improves stability and sharpens the steering. The car is exceptionally quiet, Toyota says, helped by a new sound-insulating laminated screen and special front window glazing. The plug-in Prius has never sold as well in the UK against the regular Prius, and the recent announcement of a reduction in the government subsidy for PHEVs won’t help this new model. But Toyota bosses believe demand could change “in a heartbeat” if CO2 outputs for cars in cities were dramatically cut, which they see as a realistic prospect.';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/post4.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        // ----------------Custom posts -------- //
        // News & Rumors

        $post_type = "cm_news_and_rumors";

        $post_title = "NEW CARS FOR 2017";
        $post_content = 'It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using "Content here, content here", making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for "lorem ipsum" will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/nar_1.png";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "PORCHE RELEASE NEW MODEL";
        $post_content = '<strong>Lorem Ipsum</strong> is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry"s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.<strong></strong>';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/nar_2.png";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "BEST NEW CARS FOR 2017";
        $post_content = '<strong>Lorem Ipsum</strong> is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry"s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.';
        $file_path = $wp_upload_dir["basedir"]."/2017/01/nar_3.png";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        // Team members

        $post_type = "cm_team_member";

        $post_title = "Member 4";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tm_1.jpg";
        $post_meta_array["team_member_title"] = "Front-end Developer";
        $post_meta_array["team_member_facebook"] = "http://www.facebook.com";
        $post_meta_array["team_member_twitter"] = "http://www.twitter.com";
        $post_meta_array["team_member_linkedin"] = "http://www.linkedin.com";
        $post_meta_array["team_member_gplus"] = "http://www.googleplus.com";
        $post_meta_array["team_member_instagram"] = "http://www.instagram.com";
        $post_meta_array["team_member_pinterest"] = "http://www.pinterest.com";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path,$post_meta_array);

        $post_title = "Member 3";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tm_2.jpg";
        $post_meta_array["team_member_title"] = "Project Manager";
        $post_meta_array["team_member_facebook"] = "http://www.facebook.com";
        $post_meta_array["team_member_twitter"] = "http://www.twitter.com";
        $post_meta_array["team_member_linkedin"] = "http://www.linkedin.com";
        $post_meta_array["team_member_gplus"] = "http://www.googleplus.com";
        $post_meta_array["team_member_instagram"] = "http://www.instagram.com";
        $post_meta_array["team_member_pinterest"] = "http://www.pinterest.com";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path,$post_meta_array);

        $post_title = "Member 2";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tm_3.png";
        $post_meta_array["team_member_title"] = "Team Leader";
        $post_meta_array["team_member_facebook"] = "http://www.facebook.com";
        $post_meta_array["team_member_twitter"] = "http://www.twitter.com";
        $post_meta_array["team_member_linkedin"] = "http://www.linkedin.com";
        $post_meta_array["team_member_gplus"] = "http://www.googleplus.com";
        $post_meta_array["team_member_instagram"] = "http://www.instagram.com";
        $post_meta_array["team_member_pinterest"] = "http://www.pinterest.com";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path,$post_meta_array);

        $post_title = "Member 1";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tm_4.jpg";
        $post_meta_array["team_member_title"] = "Cheif executive office / CEO";
        $post_meta_array["team_member_facebook"] = "http://www.facebook.com";
        $post_meta_array["team_member_twitter"] = "http://www.twitter.com";
        $post_meta_array["team_member_linkedin"] = "http://www.linkedin.com";
        $post_meta_array["team_member_gplus"] = "http://www.googleplus.com";
        $post_meta_array["team_member_instagram"] = "http://www.instagram.com";
        $post_meta_array["team_member_pinterest"] = "http://www.pinterest.com";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path,$post_meta_array);

        // Price Table

        $post_type = "cm_price_table";

        $post_title = "Complete Package";
        $post_content = "";
        $file_path = "";
        $post_meta_array["cm_price"] = "$ 1500";
        $post_meta_array["cm_line1"] = "Unlimited domains";
        $post_meta_array["cm_line2"] = "Unlimited pages website";
        $post_meta_array["cm_line3"] = "Custom contact and signup form";
        $post_meta_array["cm_line4"] = "select from our 300 themes";
        $post_meta_array["cm_buynowlink"] = "#";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path,$post_meta_array);

        $post_title = "Business Package";
        $post_content = "";
        $file_path = "";
        $post_meta_array["cm_price"] = "$ 750";
        $post_meta_array["cm_line1"] = "Domain name selection";
        $post_meta_array["cm_line2"] = "8 pages for your webiste";
        $post_meta_array["cm_line3"] = "custom contact form";
        $post_meta_array["cm_line4"] = "select from our 30 themes";
        $post_meta_array["cm_buynowlink"] = "#";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path,$post_meta_array);

        $post_title = "Basic Package";
        $post_content = "";
        $file_path = "";
        $post_meta_array["cm_price"] = "$ 500";
        $post_meta_array["cm_line1"] = "Domain name selection";
        $post_meta_array["cm_line2"] = "5 pages for your website";
        $post_meta_array["cm_line3"] = "custom contact";
        $post_meta_array["cm_line4"] = "select from our 20 themes";
        $post_meta_array["cm_buynowlink"] = "#";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path,$post_meta_array);

        // TESTIMONIAL

        $post_type = "cm_testimonial";

        $post_title = "Auro Doe";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam iaculis quam sit amet dolor fermentum, in porta nisi egestas. Nullam convallis laoreet gravida. Pellentesque sed.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tsti_1.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "Naro MathDoe";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent eleifend lacinia enim at dapibus. Nam eget accumsan neque. Nam felis augue, egestas ut varius vel.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tsti_2.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "MARY DOE";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam iaculis quam sit amet dolor fermentum, in porta nisi egestas. Nullam convallis laoreet gravida. Pellentesque sed.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tsti_3.jpg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "Robert Lafore";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent eleifend lacinia enim at dapibus. Nam eget accumsan neque. Nam felis augue, egestas ut varius vel.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tsti_4.jpeg";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        $post_title = "Auro Navanth";
        $post_content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam commodo laoreet neque, vitae facilisis quam eleifend a. In consectetur purus quis arcu dictum, sit amet.";
        $file_path = $wp_upload_dir["basedir"]."/2017/01/tsti_5.png";
        $cm_post_ids[] = $this->createCarManagerPosts($post_type,$post_title,$post_content,$file_path);

        // Pages and custom post are created Now create Menu ----------------
        update_option( "page_on_front", $cm_pages["home"] );
        update_option( "show_on_front", "page" );
        // MENU
        // Check if the menu exists
        $menu_name = "Car Manager";
        $menu_exists = wp_get_nav_menu_object( $menu_name );

        // If it doesn"t exist, let"s create it.
        if( !$menu_exists){
            $menu_id = wp_create_nav_menu($menu_name);

            $locations = get_theme_mod("nav_menu_locations");
            $locations["primary"] = $menu_id;
            set_theme_mod( "nav_menu_locations", $locations );

            $parent_home = $this->createCarManagerMenuItem($menu_id,$cm_pages["home"]);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["home1"],$parent_home);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["home2"],$parent_home);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["home3"],$parent_home);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["home4"],$parent_home);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["home5"],$parent_home);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["home6"],$parent_home);

            $parent_vehicles = $this->createCarManagerMenuItem($menu_id,$cm_pages["vehicles"]);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["vehicles"],$parent_vehicles,"Newest Vehicles");
            $this->createCarManagerMenuItem($menu_id,$cm_pages["vehicles_by_city"],$parent_vehicles);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["vehicles_by_make"],$parent_vehicles);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["vehicles_by_type"],$parent_vehicles);
            if(isset($cm_pages["compare_vehicles"]) && $cm_pages["compare_vehicles"] != ''){
                $this->createCarManagerMenuItem($menu_id,$cm_pages["compare_vehicles"],$parent_vehicles);
            }
            $this->createCarManagerMenuItem($menu_id,$cm_pages["sellers_list"],$parent_vehicles);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["sellers_by_city"],$parent_vehicles);

            $this->createCarManagerMenuItem($menu_id,$cm_pages["search_vehicle"]);

            $parent_profile = $this->createCarManagerMenuItem($menu_id,$cm_pages["dashboard"]);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["dashboard"],$parent_profile,"My Profile");
            $this->createCarManagerMenuItem($menu_id,$cm_pages["add_vehicle"],$parent_profile);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["my_vehicles"],$parent_profile);
            if(isset($cm_pages["shortlisted_vehicles"]) && $cm_pages["shortlisted_vehicles"] != ''){
                $this->createCarManagerMenuItem($menu_id,$cm_pages["shortlisted_vehicles"],$parent_profile);
            }

            $parent_pages = $this->createCarManagerMenuItem($menu_id,$cm_pages["blog"],0,"Pages");
            $this->createCarManagerMenuItem($menu_id,$cm_pages["news_and_rumors"],$parent_pages);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["blog"],$parent_pages);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["faq"],$parent_pages);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["pricing_table"],$parent_pages);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["thank_you"],$parent_pages);

            if(isset($cm_pages["credits"]) && $cm_pages["credits"] != ''){
                $parent_credits = $this->createCarManagerMenuItem($menu_id,$cm_pages["credits"],$parent_pages);
                $this->createCarManagerMenuItem($menu_id,$cm_pages["credits_log"],$parent_credits);
                $this->createCarManagerMenuItem($menu_id,$cm_pages["purchase_history"],$parent_credits);
                $this->createCarManagerMenuItem($menu_id,$cm_pages["rate_list"],$parent_credits);
            }

            $this->createCarManagerMenuItem($menu_id,$cm_pages["ourteam"]);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["contact_us"]);
            $this->createCarManagerMenuItem($menu_id,$cm_pages["contact_us"]);
        }
        $widget_positions = get_option("sidebars_widgets");
        // Woocommerce sidebar
        $widget_positions["woocommerce-sidebar"][] = "woocommerce_widget_cart-1";
        $widget_woocommerce_widget_cart_array[1] = array("title" => "My Cart");
        $widget_woocommerce_widget_cart_array["_multiwidget"] = 1;
        // Left sidebar
        $widget_positions["left-sidebar"][] = "search-1";
        $search_array[1] = array("title" => "Search");
        $search_array["_multiwidget"] = 1;
        $widget_positions["left-sidebar"][] = "recent-posts-1";
        $recent_posts_array[1] = array("title" => "Recent Posts", "number" => 5);
        $recent_posts_array["_multiwidget"] = 1;
        $widget_positions["left-sidebar"][] = "recent-comments-1";
        $recent_comments_array[1] = array("title" => "Recent Comments", "number" => 5);
        $recent_comments_array["_multiwidget"] = 1;
        $widget_positions["left-sidebar"][] = "archives-1";
        $archives_array[1] = array("title" => "Archives");
        $archives_array["_multiwidget"] = 1;
        $widget_positions["left-sidebar"][] = "categories-1";
        $categories_array[1] = array("title" => "Categories");
        $categories_array["_multiwidget"] = 1;
        $widget_positions["left-sidebar"][] = "meta-1";
        $meta_array[1] = array("title" => "Meta");
        $meta_array["_multiwidget"] = 1;
        // Right sidebar
        $widget_positions["right-sidebar"][] = "calendar-1";
        $calendar_array[1] = array("title" => "Calendar");
        $calendar_array["_multiwidget"] = 1;
        $widget_positions["right-sidebar"][] = "widget_cm_recent_comments-1";
        $widget_cm_recent_comments_array[1] = array("title" => "Car Manager Recent Comments", "count" => 2);
        $widget_cm_recent_comments_array["_multiwidget"] = 1;
        $widget_positions["right-sidebar"][] = "widget_cm_recent_posts-1";
        $widget_cm_recent_posts_array[1] = array("title" => "Car Manager Recent Posts", "category" => "");
        $widget_cm_recent_posts_array["_multiwidget"] = 1;
        $widget_positions["right-sidebar"][] = "nav_menu-1";
        $nav_menu_array[1] = array("title" => "Custom Menu", "nav_menu" => "");
        $nav_menu_array["_multiwidget"] = 1;
        $widget_positions["right-sidebar"][] = "pages-1";
        $pages_array[1] = array("title" => "Pages", "sortby" => "post_title");
        $pages_array["_multiwidget"] = 1;
        $widget_positions["right-sidebar"][] = "tag_cloud-1";
        $tag_cloud_array[1] = array("title" => "Tag Cloud", "taxonomy" => "post_tag");
        $tag_cloud_array["_multiwidget"] = 1;
        $widget_positions["right-sidebar"][] = "text-1";
        $text_array[1] = array("title" => "Text Heading", "text" => "Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum Text body is here for lorem ipsum");
        $text_array["_multiwidget"] = 1;
        // News and rumors
        $widget_positions["news_and_rumors"][] = "search-2";
        $search_array[2] = array("title" => "Search");
        $search_array["_multiwidget"] = 1;
        $widget_positions["news_and_rumors"][] = "recent-posts-2";
        $recent_posts_array[2] = array("title" => "Recent Posts", "number" => 5);
        $recent_posts_array["_multiwidget"] = 1;
        // footer1
        $widget_positions["footer1"][] = "widget_cm_footeraboutus-1";
        $widget_cm_footeraboutus_array[1] = array("title" => "Car Manager", "description" => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.");
        $widget_cm_footeraboutus_array["_multiwidget"] = 1;
        // footer2
        $widget_positions["footer2"][] = "widget_cm_footerusefullinks-1";
        $widget_cm_footerusefullinks_array[1] = array(
            "title" => "Useful Links",
            "title1"=>"Latest vehicles", "link1"=> get_the_permalink($cm_pages["vehicles"]),
            "title3"=>"My vehicles", "link3"=> get_the_permalink($cm_pages["my_vehicles"]),
            "title2"=>"Post vehicle", "link2"=> get_the_permalink($cm_pages["add_vehicle"]),
            "title5"=>"Pricing", "link5"=> get_the_permalink($cm_pages["rate_list"]),
            "title6"=>"", "link6"=> "#",
            "title7"=>"", "link7"=> "#",
            "title8"=>"", "link8"=> "#",
            "title9"=>"", "link9"=> "#",
            "title10"=>"", "link10"=> "#",
            );
        if(in_array('shortlist', jsvehiclemanager::$_active_addons)){
            $widget_cm_footerusefullinks_array[1] = array(
                "title4"=>"Shortlisted", "link4"=> get_the_permalink($cm_pages["shortlisted_vehicles"])
            );
        }
        $widget_cm_footerusefullinks_array["_multiwidget"] = 1;
        // footer3
        if(in_array('featuredvehicle', jsvehiclemanager::$_active_addons)){
            $widget_positions["footer3"][] = "widget_cm_footervehicleimages-1";
            $widget_cm_footervehicleimages_array[1] = array("title" => "Featured Vehicles", "vehicletype" => 1, "max_images"=>9, "column"=>3);
            $widget_cm_footervehicleimages_array["_multiwidget"] = 1;
            update_option("widget_"."widget_cm_footervehicleimages"  , $widget_cm_footervehicleimages_array);
        }
        // footer4
        $widget_positions["footer4"][] = "widget_cm_footercontactus-1";
        $widget_cm_footercontactus_array[1] = array("title" => "Contact Us", "email" => "carmanager@yourdomain.com", "address"=>"At vero eos et accusamus et iusto odio dignissimos", "phone"=>"+1234567890");
        $widget_cm_footercontactus_array["_multiwidget"] = 1;

        update_option("widget_"."widget_woocommerce_widget_cart"  , $widget_woocommerce_widget_cart_array);
        update_option("widget_"."search"  , $search_array);
        update_option("widget_"."recent-posts"  , $recent_posts_array);
        update_option("widget_"."recent-comments"  , $recent_comments_array);
        update_option("widget_"."archives"  , $archives_array);
        update_option("widget_"."categories"  , $categories_array);
        update_option("widget_"."meta"  , $meta_array);
        update_option("widget_"."calendar"  , $calendar_array);
        update_option("widget_"."widget_cm_recent_comments"  , $widget_cm_recent_comments_array);
        update_option("widget_"."widget_cm_recent_posts"  , $widget_cm_recent_posts_array);
        update_option("widget_"."nav_menu"  , $nav_menu_array);
        update_option("widget_"."pages"  , $pages_array);
        update_option("widget_"."tag_cloud"  , $tag_cloud_array);
        update_option("widget_"."text"  , $text_array);
        update_option("widget_"."widget_cm_footeraboutus"  , $widget_cm_footeraboutus_array);
        update_option("widget_"."widget_cm_footerusefullinks"  , $widget_cm_footerusefullinks_array);
        update_option("widget_"."widget_cm_footercontactus"  , $widget_cm_footercontactus_array);
        // update this array at last
        update_option( "sidebars_widgets" , $widget_positions);

        // Vehicle Manager Data
        global $wpdb;
        $pageid = $wpdb->get_var("Select id FROM `" . $wpdb->prefix . "posts` WHERE post_name = 'js-support-ticket-controlpanel'");
        if(is_numeric($pageid) && $pageid > 0){
            update_post_meta($pageid, "_wp_page_template", "templates/template-fullwidth.php");
        }
        // Update the configuration default page to Vehicles
        $query = "UPDATE `".$wpdb->prefix."js_vehiclemanager_config` SET configvalue = '".$cm_pages["vehicles"]."' WHERE configname = 'default_pageid'";
        $wpdb->query($query);
        update_option("rewrite_rules", "");
        $query = "UPDATE `".$wpdb->prefix."js_vehiclemanager_config` SET configvalue=".$cm_pages["vehicles"]." WHERE configname = 'default_pageid'";
        $wpdb->query($query);
        $query = "UPDATE `".$wpdb->prefix."js_vehiclemanager_config` SET configvalue=".$cm_pages["thank_you"]." WHERE configname = 'visitor_add_vehicle_redirect_page'";
        $wpdb->query($query);
        return 1;
    }


    function uploadPostFeatureImage($filename,$parent_post_id){
        // Check the type of file. We"ll use this as the "post_mime_type".
        $filetype = wp_check_filetype( basename( $filename ), null );
        // Get the path to the upload directory.
        $wp_upload_dir = wp_upload_dir();
        // Prepare an array of post data for the attachment.
        $attachment = array(
            "guid"           => $wp_upload_dir["url"] . "/" . basename( $filename ),
            "post_mime_type" => $filetype["type"],
            "post_title"     => preg_replace( "/\.[^.]+$/", "", basename( $filename ) ),
            "post_content"   => "",
            "post_status"    => "inherit"
        );
        // Insert the attachment.
        $attach_id = wp_insert_attachment( $attachment, $filename, $parent_post_id );
        // Make sure that this file is included, as wp_generate_attachment_metadata() depends on it.
        require_once( ABSPATH . "wp-admin/includes/image.php" );
        // Generate the metadata for the attachment, and update the database record.
        $attach_data = wp_generate_attachment_metadata( $attach_id, $filename );
        wp_update_attachment_metadata( $attach_id, $attach_data );
        set_post_thumbnail( $parent_post_id, $attach_id );
    }


    function createCarManagerPosts($post_type,$post_title,$post_content,$file_path = '',$postmeta = array()){
        $new_page_template = '';
        $new_post = array(
                        "post_type" => $post_type,
                        "post_title" => $post_title,
                        "post_content" => $post_content,
                        "post_status" => "publish",
                        "post_author" => 1,
                        "post_parent" => 0,
                );
        $post_id = wp_insert_post($new_post);
        update_post_meta($post_id, "_wp_page_template", $new_page_template);
        if($file_path != ''){
            $this->uploadPostFeatureImage($file_path,$post_id);
        }
        if(!empty($postmeta)){
            foreach ($postmeta as $meta_key => $meta_value) {
                __update_post_meta($post_id, $meta_key, $meta_value);
            }
        }
        return $post_id;
    }

    function storeSampleVehicleImages($vehicleid,$numberofimages,$count){
        if( !is_numeric($vehicleid) || $vehicleid == 0 ){
            return;
        }
        global $wpdb;
        $wp_upload_dir = wp_upload_dir();
        $query = 'INSERT INTO `'.$wpdb->prefix.'js_vehiclemanager_vehicleimages` ( `vehicleid`, `file`, `filename`, `filesize`, `created`, `status`, `isdefault`) VALUES';
        $default = 1;
        $comma = ",";
        rename($wp_upload_dir["basedir"]."/jsvehiclemanager_data/data/vehicle/vehicle_x".$count,$wp_upload_dir["basedir"]."/jsvehiclemanager_data/data/vehicle/vehicle_".$vehicleid);
        for ($i=1; $i <= $numberofimages; $i++) {
            $query .='  ('.$vehicleid.', "'.$wp_upload_dir["baseurl"].'/jsvehiclemanager_data/data/vehicle/vehicle_'.$vehicleid.'/", "vehicleimage'.$i.'.jpg", "81494", "'.date("Y-m-d H:i:s").'", 1, '.$default.')'.$comma;
            $default = 0;
            if($i == $numberofimages - 1){
                $comma = ";";
            }
        }
        $wpdb->query($query);
    }

    function getPageList() {
        $db = new jsvehiclemanagerdb();
        $query = "SELECT ID AS id, post_title AS text FROM `#__posts` WHERE post_type = 'page' AND post_status = 'publish' ";
        $db->setQuery($query);
        $pages = $db->loadObjectList();
        return $pages;

    }

    function getListOfDemoVersions() {
        $data = array();// data to posted with curl call
        $url = "https://wpvehiclemanager.com/setup/demoimporter/getdemos.php";
        $response = wp_remote_post( $url, array('body' => $post_data,'timeout'=>7,'sslverify'=>false));
        if( !is_wp_error($response) && $response['response']['code'] == 200 && isset($response['body']) ){
            $call_result = $response['body'];
        }else{
            $call_result = false;
            if(!is_wp_error($response)){
               $error = $response['response']['message'];
           }else{
                $error = $response->get_error_message();
           }
        }
        if($call_result){
            $result = json_decode($call_result,true);
        }else{
            $result = array();
        }
        if(isset($result['result_flag']) && $result['result_flag'] == 1){
            $response = $result['result_data'];
        }

        $combo_array = array();
        $result = array();
        if(is_array($response)){
            foreach ($response as $key => $value) {
                $combo_array[] = (object)['id'=>$value['foldername'],'text'=>$value['name']];
                $result[$key+1] = $value;
            }
        }
        jsvehiclemanager::$_data[0] = $combo_array;
        jsvehiclemanager::$_data[1] = $result;
        return ;
    }

	function getDemo($demoid,$foldername,$demo_overwrite =0) {
		if($demoid == ''){
		   die('demo not seleceted');
		}
		if($demo_overwrite == 1){
		   $this->removeCarManagerDemoData();
		}
        $post_data = array();
        $folder_path = 'https://wpvehiclemanager.com/setup/demoimporter/demos/'.$foldername.'/democode.php';
        $response = wp_remote_post( $folder_path, array('body' => $post_data,'timeout'=>7,'sslverify'=>false));
        if( !is_wp_error($response) && $response['response']['code'] == 200 && isset($response['body']) ){
            $curl_response = $response['body'];
        }else{
            $curl_response = false;
            if(!is_wp_error($response)){
               $error = $response['response']['message'];
           }else{
                $error = $response->get_error_message();
           }
        }

		if($curl_response){
            $return_string = $curl_response;
            $import_demo_type = 'pro';
            eval($return_string);
            update_option('car_manager_demno_id',$demoid);// record the id of the demo currently imported.
		}
		return;
	}
    function removeCarManagerDemoData(){
        delete_option("widget_widget_woocommerce_widget_cart");
        delete_option("widget_search");
        delete_option("widget_recent-posts");
        delete_option("widget_recent-comments");
        delete_option("widget_archives");
        delete_option("widget_categories");
        delete_option("widget_meta");
        delete_option("widget_calendar");
        delete_option("widget_widget_cm_recent_comments");
        delete_option("widget_widget_cm_recent_posts");
        delete_option("widget_nav_menu");
        delete_option("widget_pages");
        delete_option("widget_tag_cloud");
        delete_option("widget_text");
        delete_option("widget_widget_cm_footeraboutus");
        delete_option("widget_widget_cm_footerusefullinks");
        delete_option("widget_widget_cm_footervehicleimages");
        delete_option("widget_widget_cm_footercontactus");

        $widget_positions = get_option("sidebars_widgets");
        unset($widget_positions["footer1"]);
        unset($widget_positions["footer2"]);
        unset($widget_positions["footer3"]);
        unset($widget_positions["footer4"]);
        unset($widget_positions["left-sidebar"]);
        unset($widget_positions["right-sidebar"]);
        unset($widget_positions["news_and_rumors"]);

        update_option( "sidebars_widgets" , $widget_positions);

        $menu_name = "Car Manager";
        $del_flag = wp_delete_nav_menu($menu_name);
        $menu_exists = wp_get_nav_menu_object( $menu_name );

        $pages_array = get_option('car_manager_demo_pages_ids');
        if(!empty($pages_array) && is_array($pages_array) ){
            foreach ($pages_array as $key => $value) {
                wp_delete_post($value,true);
            }
        }

        $post_array = get_option('car_manager_demo_post_ids');
        if(!empty($post_array) && is_array($post_array) ){
            foreach ($post_array as $key => $value) {
                wp_delete_post($value,true);
            }
        }
        return;
    }
}
?>
